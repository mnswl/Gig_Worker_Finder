{"version":3,"file":"static/js/217.80d98232.chunk.js","mappings":"2HAEA,MAAMA,EAAkB,CACtBC,IAAK,KACLC,IAAK,KACLC,IAAK,MACLC,IAAK,IACLC,IAAK,SACLC,IAAK,SACLC,IAAK,QAGMC,EAAqBC,GAAST,EAAgBS,IAASA,EAWvDC,EAAgB,SAACC,EAAQC,EAAMC,EAAIC,GAAsB,IAAfC,EAAIC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGH,EAC5D,IAAKC,GAASF,IAASC,EAAI,OAAOF,EAGlC,GAAII,IAASF,EAAI,CACf,MAAMM,EAAOL,EAAMF,GACnB,OAAKO,EACER,EAASQ,EADER,CAEpB,CAGA,MAAMS,EAAaL,IAASH,EAAO,EAAIE,EAAMF,GACvCS,EAAmBN,IAASF,EAAK,EAAIC,EAAMD,GACjD,IAAKO,IAAeC,EAAkB,OAAOV,EAE7C,OADqBA,EAASS,EACRC,CACxB,C,kCCrCO,MAAMC,EAAoB,CAC/B,YAAe,MACf,QAAW,MACX,QAAW,MACX,QAAW,MACX,OAAU,MACV,sBAAuB,MACvB,UAAa,MACb,QAAW,MACX,UAAa,MACb,QAAW,MACX,WAAc,MACd,QAAW,MACX,QAAW,MACX,WAAc,MACd,SAAY,MACZ,QAAW,MACX,QAAW,MACX,OAAU,MACV,MAAS,MACT,OAAU,MACV,QAAW,MACX,yBAA0B,MAC1B,SAAY,MACZ,OAAU,MACV,OAAU,MACV,SAAY,MACZ,eAAgB,MAChB,QAAW,MACX,aAAc,MACd,SAAY,MACZ,SAAY,MACZ,OAAU,MACV,2BAA4B,MAC5B,KAAQ,MACR,MAAS,MACT,MAAS,MACT,SAAY,MACZ,QAAW,MACX,MAAS,MACT,aAAc,MACd,mBAAiB,MACjB,QAAW,MACX,KAAQ,MACR,OAAU,MACV,iBAAkB,MAClB,mCAAoC,MACpC,QAAW,MACX,SAAY,MACZ,SAAY,MACZ,qBAAsB,MACtB,QAAW,MACX,MAAS,MACT,cAAe,MACf,oBAAqB,MACrB,QAAW,MACX,QAAW,MACX,SAAY,MACZ,SAAY,MACZ,KAAQ,MACR,QAAW,MACX,OAAU,MACV,MAAS,MACT,OAAU,MACV,QAAW,MACX,QAAW,MACX,MAAS,MACT,OAAU,MACV,QAAW,MACX,UAAa,MACb,OAAU,MACV,gBAAiB,MACjB,OAAU,MACV,MAAS,MACT,WAAY,MACZ,SAAY,MACZ,QAAW,MACX,QAAW,MACX,MAAS,MACT,UAAa,MACb,KAAQ,MACR,KAAQ,MACR,QAAW,MACX,OAAU,MACV,MAAS,MACT,QAAW,MACX,MAAS,MACT,OAAU,MACV,WAAc,MACd,MAAS,MACT,SAAY,MACZ,OAAU,MACV,WAAc,MACd,KAAQ,MACR,OAAU,MACV,QAAW,MACX,QAAW,MACX,QAAW,MACX,MAAS,MACT,cAAiB,MACjB,UAAa,MACb,WAAc,MACd,WAAc,MACd,OAAU,MACV,SAAY,MACZ,SAAY,MACZ,KAAQ,MACR,MAAS,MACT,mBAAoB,MACpB,WAAc,MACd,UAAa,MACb,OAAU,MACV,WAAc,MACd,QAAW,MACX,OAAU,MACV,SAAY,MACZ,WAAc,MACd,QAAW,MACX,WAAc,MACd,QAAW,MACX,QAAW,MACX,MAAS,MACT,MAAS,MACT,YAAe,MACf,cAAe,MACf,UAAa,MACb,MAAS,MACT,QAAW,MACX,cAAe,MACf,kBAAmB,MACnB,OAAU,MACV,KAAQ,MACR,SAAY,MACZ,MAAS,MACT,UAAa,MACb,OAAU,MACV,mBAAoB,MACpB,SAAY,MACZ,KAAQ,MACR,YAAe,MACf,OAAU,MACV,SAAY,MACZ,MAAS,MACT,QAAW,MACX,OAAU,MACV,OAAU,MACV,wBAAyB,MACzB,cAAe,MACf,mCAAoC,MACpC,MAAS,MACT,aAAc,MACd,wBAAyB,MACzB,eAAgB,MAChB,QAAW,MACX,OAAU,MACV,WAAc,MACd,eAAgB,MAChB,UAAa,MACb,SAAY,MACZ,SAAY,MACZ,kBAAmB,MACnB,QAAW,MACX,eAAgB,MAChB,cAAe,MACf,cAAe,MACf,MAAS,MACT,YAAa,MACb,MAAS,MACT,SAAY,MACZ,OAAU,MACV,YAAe,MACf,MAAS,MACT,WAAc,MACd,SAAY,MACZ,SAAY,MACZ,cAAe,MACf,KAAQ,MACR,MAAS,MACT,sBAAuB,MACvB,QAAW,MACX,OAAU,MACV,aAAgB,MAChB,OAAU,MACV,OAAU,MACV,QAAW,MACX,uBAAwB,MACxB,iBAAkB,MAClB,gBAAiB,MACjB,QAAW,MACX,WAAc,MACd,QAAW,MACX,UAAa,MACb,QAAW,MACX,MAAS,MACT,OAAU,MACV,SAAY,OAGDC,EAAwBC,GAAYF,EAAkBE,E,0CCvM5D,MAAMC,EAAY,CACvB,cAAc,UAAU,UAAU,UAAU,SAAS,sBAAsB,YAAY,UAAU,YAAY,UAAU,aAAa,UAAU,UAAU,aAAa,WAAW,UAAU,UAAU,SAAS,QAAQ,SAAS,UAAU,yBAAyB,WAAW,SAAS,SAAS,WAAW,eAAe,UAAU,aAAa,WAAW,WAAW,SAAS,2BAA2B,OAAO,QAAQ,QAAQ,WAAW,UAAU,QAAQ,aAAa,mBAAgB,UAAU,OAAO,SAAS,iBAAiB,mCAAmC,UAAU,WAAW,WAAW,qBAAqB,UAAU,QAAQ,cAAc,oBAAoB,UAAU,UAAU,WAAW,WAAW,OAAO,UAAU,SAAS,QAAQ,SAAS,UAAU,UAAU,QAAQ,SAAS,UAAU,YAAY,SAAS,gBAAgB,SAAS,QAAQ,WAAW,WAAW,UAAU,UAAU,QAAQ,YAAY,OAAO,OAAO,UAAU,SAAS,QAAQ,UAAU,QAAQ,SAAS,aAAa,QAAQ,WAAW,SAAS,aAAa,OAAO,SAAS,UAAU,UAAU,UAAU,QAAQ,gBAAgB,YAAY,aAAa,aAAa,SAAS,WAAW,WAAW,OAAO,QAAQ,mBAAmB,aAAa,YAAY,SAAS,aAAa,UAAU,SAAS,WAAW,aAAa,UAAU,aAAa,UAAU,UAAU,QAAQ,QAAQ,cAAc,cAAc,YAAY,QAAQ,UAAU,cAAc,kBAAkB,SAAS,OAAO,WAAW,QAAQ,YAAY,SAAS,mBAAmB,WAAW,OAAO,cAAc,SAAS,WAAW,QAAQ,UAAU,SAAS,SAAS,wBAAwB,cAAc,mCAAmC,QAAQ,aAAa,wBAAwB,eAAe,UAAU,SAAS,aAAa,eAAe,YAAY,WAAW,WAAW,kBAAkB,UAAU,eAAe,cAAc,cAAc,QAAQ,YAAY,QAAQ,WAAW,SAAS,cAAc,QAAQ,aAAa,WAAW,WAAW,cAAc,OAAO,QAAQ,sBAAsB,UAAU,SAAS,eAAe,SAAS,SAAS,UAAU,uBAAuB,iBAAiB,gBAAgB,UAAU,aAAa,UAAU,YAAY,UAAU,QAAQ,SAAS,YAG9qEC,EAAa,CACxB,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,M,gBCJn7B,SAASC,EAAYC,GAClC,MAAa,WAATA,EAA0B,aACjB,aAATA,EAA4B,UACrB,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMC,OAAO,GAAGC,gBAAoB,OAAJF,QAAI,IAAJA,OAAI,EAAJA,EAAMG,MAAM,GACrD,C,iMCioBA,QA1nBA,WACE,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,OAC1BC,EAAWC,IAAgBF,EAAAA,EAAAA,UAAS,SACpCG,EAAMC,IAAWJ,EAAAA,EAAAA,UAAS,KAC1BK,EAAeC,IAAoBN,EAAAA,EAAAA,UAAS,KAC5CO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,KAClCS,EAAWC,IAAgBV,EAAAA,EAAAA,UAAS,KACpCW,EAAYC,IAAiBZ,EAAAA,EAAAA,WAAS,IACtCa,EAAeC,IAAoBd,EAAAA,EAAAA,UAAS,KAC5Ce,EAAUC,IAAehB,EAAAA,EAAAA,WAAS,IAClCiB,EAAaC,IAAkBlB,EAAAA,EAAAA,UAAS,IAAmD,SAA7CmB,aAAaC,QAAQ,wBACnEC,EAAKC,IAAUtB,EAAAA,EAAAA,UAAS,KACxBuB,EAAkBC,IAAuBxB,EAAAA,EAAAA,UAAS,IAAmD,SAA7CmB,aAAaC,QAAQ,wBAC7EK,EAAUC,IAAe1B,EAAAA,EAAAA,UAAS,KAClC2B,EAAaC,IAAkB5B,EAAAA,EAAAA,WAAS,IACxC6B,EAAiBC,IAAsB9B,EAAAA,EAAAA,WAAS,IAChD+B,EAAQC,IAAahC,EAAAA,EAAAA,UAAS,OAC/B,EAAEiC,IAAMC,EAAAA,EAAAA,OACPC,EAAMC,IAAWpC,EAAAA,EAAAA,UAAS,CAAEqC,SAAS,GAAIC,UAAU,GAAIC,SAAS,GAAIC,MAAM,GAAIC,MAAM,KACrFC,GAAeC,EAAAA,EAAAA,QAAO,MACtBC,GAAiBD,EAAAA,EAAAA,QAAO,OACvBE,EAAkBC,IAAuB9C,EAAAA,EAAAA,WAAS,IAgBzD+C,EAAAA,EAAAA,WAAU,KACSC,WACf,IACE,MAAM,KAAEC,SAAeC,EAAAA,EAAIC,IAAI,YAC/B,IAAIC,EAAMH,EAAKI,IAAMJ,EAAKK,IAE9B,MAAMC,EAAiBpC,aAAaC,QAAQ,kBACtCoC,EAAkBrC,aAAaC,QAAQ,mBACvCqC,EAAgBR,EAAK7D,SAAW+B,aAAaC,QAAQ,WAAWgC,MAAUG,GAAkB,GAC5FG,EAAiBT,EAAKU,UAAYxC,aAAaC,QAAQ,YAAYgC,MAAUI,GAAmB,GAChGI,EAAeX,EAAKY,QAAU1C,aAAaC,QAAQ,UAAUgC,MAAU,GAQ7E,GANArD,EAAQ,IAAKkD,EAAM7D,QAASqE,EAAeE,SAAUD,EAAgBG,OAAQD,IAEzEH,GAAetC,aAAa2C,QAAQ,WAAWV,IAAOK,GACtDC,GAAgBvC,aAAa2C,QAAQ,YAAYV,IAAOM,GACxDE,GAAczC,aAAa2C,QAAQ,UAAUV,IAAOQ,IAElDX,EAAK7D,SAAWmE,IAAqBN,EAAKU,UAAYH,EAC1D,IACE,MAAMO,QAAiBb,EAAAA,EAAIc,MAAM,WAAY,CAAE5E,QAASmE,EAAgBI,SAAUH,IAE5ES,EAAiBF,EAASd,KAAK7D,SAAWmE,EAC1CW,EAAkBH,EAASd,KAAKU,UAAYH,EAClDzD,EAAQoE,IAAM,IAAMA,EAAM/E,QAAS6E,EAAgBN,SAAUO,KAC7D9B,EAAQ+B,IAAM,IAAMA,EAAM/E,QAAS6E,EAAgBN,SAAUO,KAE7D/C,aAAaiD,WAAW,kBACxBjD,aAAaiD,WAAW,kBAC1B,CAAE,MAAOC,GACPC,QAAQC,MAAMF,EAChB,CAEoB,WAAdpB,EAAKzD,MAAmC,aAAdyD,EAAKzD,MACjCU,EAAa,iBAEfiB,aAAa2C,QAAQ,MAAOb,EAAKI,IAAMJ,EAAKK,KAC5C,MAAMkB,EAAU,IAAKvB,EAAM7D,QAASqE,EAAeE,SAAUD,EAAgBG,OAAQD,GAChFa,IAAAA,QAAU3E,EAAM0E,IACnBzE,EAAQyE,GAEV,MAAME,EAAU,CACdrC,SAAUY,EAAKZ,UAAY,GAC3BC,UAAWW,EAAKX,WAAa,GAC7BC,SAAUU,EAAKV,UAAY,GAC3BC,MAAOS,EAAKT,OAAS,GACrBC,MAAOQ,EAAKR,OAAS,GACrBrD,QAASqE,EACTE,SAAUD,GAMZ,GAJKe,IAAAA,QAAUtC,EAAMuC,IACnBtC,EAAQsC,GAGQ,aAAdzB,EAAKzD,KAAqB,CAC5B,MAAMmF,QAAYzB,EAAAA,EAAIC,IAAI,YAC1B/C,EAAQuE,EAAI1B,KACd,KAAO,CACL,MAEM2B,SAFY1B,EAAAA,EAAIC,IAAI,UAENF,KAAK4B,OAAOC,GAAKA,EAAEC,YAAcD,EAAEC,WAAWC,KAAKC,IAAM,IAADC,EAEzE,QADmB,QAANA,EAAAD,EAAEnF,YAAI,IAAAoF,OAAA,EAANA,EAAQ5B,OAAwB,kBAAT2B,EAAEnF,MAAmBmF,EAAEnF,KAAKqF,SAAWF,EAAEnF,KAAKqF,WAAaF,EAAEnF,UACjFmD,EAAKI,IAAMJ,EAAKK,QAEnClD,EAAQwE,EACV,CAEAtE,EAAiB,CAAE,CAAEgD,IAAI,EAAG8B,KAAK,mCACjC,MAAMC,QAAenC,EAAAA,EAAIC,IAAI,SAC7B3C,EAAY6E,EAAOpC,MAEnB,IACE,MAAMqC,QAAWpC,EAAAA,EAAIC,IAAI,uBACzBzC,EAAa4E,EAAGrC,MAAQ,GAC1B,CAAE,MAAMsC,GAAKjB,QAAQC,MAAMgB,EAAI,CACjC,CAAE,MAAOlB,GAAM,IAADmB,EACiB,OAAb,QAAZA,EAAAnB,EAAIoB,gBAAQ,IAAAD,OAAA,EAAZA,EAAcE,UAEhBvE,aAAaiD,WAAW,SACxBxE,EAAS,WAEX0E,QAAQC,MAAMF,EAChB,GAEFsB,IAGAC,EAAAA,EAAAA,KACAC,EAAAA,EAAOC,IAAI,qBACXD,EAAAA,EAAOC,IAAI,cACXD,EAAAA,EAAOE,GAAG,oBAAqBC,IAA2C,IAA1C,MAAEC,EAAK,SAAEC,EAAQ,OAAER,EAAM,QAAES,GAASH,EAClE,MAAM5C,EAAMjC,aAAaC,QAAQ,OAEjCd,EAAiB6D,GAAQ,IAAIA,EAAM,CAAEb,IAAK8C,KAAKC,MAAMlB,WAAYC,KAAM,yBAAyBc,aAAoBR,OACpHY,EAAAA,GAAMC,KAAK,gBAAgBL,MAAaR,KAExCtF,EAAQ+D,GAAQA,EAAKqC,IAAI1B,IACvB,GAAIA,EAAExB,MAAQ2C,EAAO,CACnB,MAAMQ,EAAoB3B,EAAEC,WAAWyB,IAAIvB,IAAM,IAADyB,EAE9C,QADmB,QAANA,EAAAzB,EAAEnF,YAAI,IAAA4G,OAAA,EAANA,EAAQpD,OAAwB,kBAAT2B,EAAEnF,MAAmBmF,EAAEnF,KAAKqF,SAAWF,EAAEnF,KAAKqF,WAAaF,EAAEnF,SAClFsD,EAAM,IAAK6B,EAAGS,SAAQiB,gBAAiBR,GAAYlB,IAEpE,MAAO,IAAKH,EAAGC,WAAY0B,EAC7B,CACA,OAAO3B,OAKXe,EAAAA,EAAOE,GAAG,aAAca,IAAc,IAAb,IAAEC,GAAKD,EAC9B,MAAMxD,EAAMjC,aAAaC,QAAQ,OAEnByF,EAAI9B,YAAc8B,EAAI9B,WAAWC,KAAKC,IAAM,IAAD6B,EAEvD,QADmB,QAANA,EAAA7B,EAAEnF,YAAI,IAAAgH,OAAA,EAANA,EAAQxD,OAAwB,kBAAT2B,EAAEnF,MAAmBmF,EAAEnF,KAAKqF,SAAWF,EAAEnF,KAAKqF,WAAaF,EAAEnF,SAClFsD,KAGjBhD,EAAQ+D,GACFA,EAAKa,KAAKF,GAAKA,EAAExB,MAAQuD,EAAIvD,KAAaa,EACvC,IAAIA,EAAM0C,OAGpB,KAGH9D,EAAAA,EAAAA,WAAU,KACQ,aAAZ9C,GACF,WACE,IACE,MAAM0E,QAAYzB,EAAAA,EAAIC,IAAI,SAC1B3C,EAAYmE,EAAI1B,KAClB,CAAE,MAAMoB,GAAOC,QAAQC,MAAMF,EAAM,CACpC,EALD,IAOD,CAACpE,KAGJ8C,EAAAA,EAAAA,WAAU,KACH5B,aAAaC,QAAQ,UACxBxB,EAAS,SAAU,CAAEmH,SAAS,KAE/B,CAACnH,IAEJ,MA4BMoH,EAAkBC,MAAMzI,KAAK,CAAEK,OAAQ,IAAM,CAAC4F,EAAGyC,IAAM,iCAAiCA,EAAI,KAWlG,OAAK/F,aAAaC,QAAQ,SAIrBtB,GAGHqH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAiBC,MAAO,CAAEC,SAAU,SAAUC,SAAA,CAE1DtG,IACCuG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,gBAAgBK,SAAS,KAAKJ,MAAO,CAACK,WAAW,mBAAmBH,UACnFC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcG,UAC3BJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeG,SAAA,EAC5BJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcG,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,cAAaG,SAAC,kBAC5BC,EAAAA,EAAAA,KAAA,UAAQG,KAAK,SAASP,UAAU,YAAYQ,QAASA,KAAK1G,GAAe,GAAQC,aAAaiD,WAAW,sBAAuB9C,EAAO,WAEzI6F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYG,SAAA,EACzBJ,EAAAA,EAAAA,MAAA,KAAAI,SAAA,CAAG,kCAAgCzH,EAAK2C,UACxC+E,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,eAAeS,MAAOxG,EAAKyG,UAAW,EAAGC,SAAUxC,IAAQ,WAAWyC,KAAKzC,EAAE0C,OAAOJ,QAAQvG,EAAOiE,EAAE0C,OAAOJ,cAE/HV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcG,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,oBAAoBQ,QAASA,KAAK1G,GAAe,GAAQC,aAAaiD,WAAW,sBAAuB9C,EAAO,KAAMiG,SAAC,YACxIC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,kBAAkBc,SAAuB,IAAb7G,EAAIxC,OAAY+I,QAAS5E,UACrE,UACQE,EAAAA,EAAIiF,KAAK,qBAAqB,CAAE1F,MAAO3C,EAAK2C,MAAOpE,KAAMgD,IAC/DtB,EAAQoE,IAAI,IAAUA,EAAMiE,eAAe,KAC3ClH,GAAe,GACfC,aAAa2C,QAAQ,qBAAsB,SAC3CuE,MAAM,+BACR,CAAC,MAAMhE,GAAK,IAADiE,EAAAC,EAAEF,OAAkB,QAAZC,EAAAjE,EAAIoB,gBAAQ,IAAA6C,GAAM,QAANC,EAAZD,EAAcrF,YAAI,IAAAsF,OAAN,EAAZA,EAAoBC,MAAO,eAAiB,GAC/DjB,SAAC,qBAQVhG,IACCiG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,gBAAgBK,SAAS,KAAKJ,MAAO,CAACK,WAAW,mBAAmBH,UACjFC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcG,UAC3BJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeG,SAAA,EAC5BJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcG,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,cAAaG,SAAC,kBAC5BC,EAAAA,EAAAA,KAAA,UAAQG,KAAK,SAASP,UAAU,YAAYQ,QAASA,KAAKpG,GAAoB,GAAQL,aAAaiD,WAAW,sBAAuB1C,EAAY,WAEnJyF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYG,SAAA,EACzBJ,EAAAA,EAAAA,MAAA,KAAAI,SAAA,CAAG,kCAAgCzH,EAAK0C,UACxCgF,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,eAAeS,MAAOpG,EAAUqG,UAAW,EAAGC,SAAUxC,IAAQ,WAAWyC,KAAKzC,EAAE0C,OAAOJ,QAAQnG,EAAY6D,EAAE0C,OAAOJ,cAEzIV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcG,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,oBAAoBQ,QAASA,KAAKpG,GAAoB,GAAQL,aAAaiD,WAAW,sBAAuB1C,EAAY,KAAM6F,SAAC,YAClJC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,kBAAkBc,SAA4B,IAAlBzG,EAAS5C,OAAY+I,QAAS5E,UAC1E,UACQE,EAAAA,EAAIiF,KAAK,qBAAqB,CAAE3F,MAAO1C,EAAK0C,MAAOnE,KAAMoD,IAC/D1B,EAAQoE,IAAI,IAAUA,EAAMsE,eAAe,KAC3CjH,GAAoB,GACpBL,aAAa2C,QAAQ,qBAAqB,SAC1CuE,MAAM,+BACR,CAAC,MAAMhE,GAAK,IAADqE,EAAAC,EAAEN,OAAkB,QAAZK,EAAArE,EAAIoB,gBAAQ,IAAAiD,GAAM,QAANC,EAAZD,EAAczF,YAAI,IAAA0F,OAAN,EAAZA,EAAoBH,MAAO,eAAiB,GAC/DjB,SAAC,qBAQZ1E,IACC2E,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,gBAAgBK,SAAS,KAAKJ,MAAO,CAACK,WAAW,mBAAmBH,UACjFC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,uCAAsCG,UACnDJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeG,SAAA,EAC5BJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcG,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,cAAaG,SAAC,mBAC5BC,EAAAA,EAAAA,KAAA,UAAQG,KAAK,SAASP,UAAU,YAAYQ,QAASA,IAAI9E,GAAoB,SAE/EqE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYG,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,yBAAwBG,SACpCP,EAAgBR,IAAIoC,IACnBpB,EAAAA,EAAAA,KAAA,OAAeqB,IAAKD,EAAKE,IAAI,MAAM1B,UAAU,iBAAiBC,MAAO,CAAC0B,MAAM,GAAGC,OAAO,GAAGC,OAAO,UAAUC,UAAU,SAAUtB,QAASA,IA1FlI5E,WACrB,MAAMI,EAAMjC,aAAaC,QAAQ,OAC9BgC,GAAKjC,aAAa2C,QAAQ,UAAUV,IAAOwF,GAC9C7I,EAAQoE,IAAI,IAAUA,EAAMN,OAAQ+E,KACpC9F,GAAoB,GACpB,UACQI,EAAAA,EAAIiF,KAAK,eAAgB,CAAES,OACnC,CAAE,MAAOvE,GAAOC,QAAQC,MAAMF,EAAM,GAmFuH8E,CAAeP,GAAMQ,QAAS7D,IAAIA,EAAE8D,cAAchC,MAAMiC,QAAQ,SAAjMV,OAGdpB,EAAAA,EAAAA,KAAA,UACAL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BG,SAAA,EACvCC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,0BAA0BQ,QAASA,KAAK,IAAD2B,EAAEzG,GAAoB,GAA4B,QAApByG,EAAA7G,EAAa8G,eAAO,IAAAD,GAApBA,EAAsBE,SAAWlC,SAAC,yBACzHC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,oBAAoBQ,QAASA,IAAI9E,GAAoB,GAAOyE,SAAC,yBAS3FJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAiB,WAAS,UAASG,SAAA,EAChDC,EAAAA,EAAAA,KAAA,OACEqB,IAAK/I,EAAK+D,QAAU,+BAA+B/D,EAAK0C,QACxDsG,IAAI,SACJ1B,UAAU,iBACVQ,QA3IkB8B,IAAM5G,GAAoB,GA4I5C6G,MAAM,4BAERnC,EAAAA,EAAAA,KAAA,SACEG,KAAK,OACLiC,OAAO,UACP7B,SA/ImB/E,UACzB,MAAM6G,EAAOtE,EAAE0C,OAAO6B,MAAM,GAC5B,IAAKD,EAAM,OAEX,MAAME,EAAaC,IAAIC,gBAAgBJ,GACvC9J,EAAQoE,IAAI,IAAUA,EAAMN,OAAQkG,KACpC,MAAM3G,EAAMjC,aAAaC,QAAQ,OAC9BgC,GAAKjC,aAAa2C,QAAQ,UAAUV,IAAO2G,GAE9C,IACE,MAAMG,EAAK,IAAIC,SACfD,EAAGE,OAAO,SAAUP,GACpB,MAAMlF,QAAYzB,EAAAA,EAAIiF,KAAK,eAAgB+B,GAC3CnK,EAAQ4E,EAAI1B,KACd,CAAE,MAAOoB,GACPC,QAAQC,MAAMF,EAChB,GAgIMgG,IAAK3H,EACL2E,MAAO,CAAEiC,QAAS,WAEpBnC,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKzH,EAAKuC,UAAYvC,EAAKwK,QAC3BnD,EAAAA,EAAAA,MAAA,KAAGC,UAAU,kBAAiBG,SAAA,CAC3BzH,EAAK0C,MAAO,IACZ1C,EAAK2I,eACJjB,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,mBAAkBG,SAAC,cAEnCC,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,6BAA4BG,SAAC,gBAE7CzH,EAAK2I,gBACLjB,EAAAA,EAAAA,KAAA,UACEJ,UAAU,sCACVQ,QAAS5E,UACP,UACQE,EAAAA,EAAIiF,KAAK,mBAAoB,CAAE3F,MAAO1C,EAAK0C,QACjDrB,aAAa2C,QAAQ,qBAAqB,QAC1CpC,EAAY,IACZF,GAAoB,EACtB,CAAE,MAAO6C,GAAM,IAADkG,EAAAC,EACZnC,OAAkB,QAAZkC,EAAAlG,EAAIoB,gBAAQ,IAAA8E,GAAM,QAANC,EAAZD,EAActH,YAAI,IAAAuH,OAAN,EAAZA,EAAoBhC,MAAO,sBACnC,GACAjB,SACH,eAGLJ,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMG,SAAA,CAAC,UAAQzH,EAAK2C,MAAO,IACrC3C,EAAKsI,eACJZ,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,mBAAkBG,SAAC,cAEnCC,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,6BAA4BG,SAAC,gBAE7CzH,EAAKsI,gBACLZ,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,sCAAsCc,SAAUvG,EAAaiG,QAAS5E,UACtF,IACEpB,GAAe,SACTsB,EAAAA,EAAIiF,KAAK,mBAAmB,CAAE1F,MAAO3C,EAAK2C,QAChDtB,aAAa2C,QAAQ,qBAAqB,QACzC5C,GAAe,EAClB,CAAE,MAAMmD,GAAK,IAADoG,EAAAC,EAAErC,OAAkB,QAAZoC,EAAApG,EAAIoB,gBAAQ,IAAAgF,GAAM,QAANC,EAAZD,EAAcxH,YAAI,IAAAyH,OAAN,EAAZA,EAAoBlC,MAAO,sBAAwB,CAAC,QAC/D5G,GAAe,EAAQ,GAChC2F,SAAC,qBAEPC,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,kCAAiCG,UAAEhI,EAAAA,EAAAA,GAAYO,EAAKN,SACpEgI,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,0BAAyBG,SAAEzH,EAAKV,SAAW+C,EAAK/C,WAChEoI,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,0BAAyBG,SAAEzH,EAAK6D,UAAYxB,EAAKwB,YACjE6D,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,wCAAwCQ,QAASA,KAC7D7G,GACFqB,EAAQ,CACNC,SAASvC,EAAKuC,UAAU,GACxBC,UAAUxC,EAAKwC,WAAW,GAC1BC,SAASzC,EAAKyC,UAAU,GACxBC,MAAM1C,EAAK0C,OAAO,GAClBC,MAAM3C,EAAK2C,OAAO,GAClBrD,QAAQU,EAAKV,SAAS+B,aAAaC,QAAQ,WAAWtB,EAAKwD,KAAKxD,EAAKuD,OAAO,GAC5EM,SAAS7D,EAAK6D,UAAUxC,aAAaC,QAAQ,YAAYtB,EAAKwD,KAAKxD,EAAKuD,QAAOlE,EAAAA,EAAAA,GAAqBW,EAAKV,UAAU,KAGvH4B,EAAYmD,IAAOA,IACnBoD,SAAExG,EAAS,SAAS,eAKzBA,IACCoG,EAAAA,EAAAA,MAAA,QAAMC,UAAU,OAAOuD,SAAU3H,UAAUuC,EAAEqF,iBAAiB,IAC5D,MAAMC,EAAU,CAAC,EAEjB,GADAC,OAAOC,KAAK5I,GAAM6I,QAAQC,IAAU9I,EAAK8I,MAAQnL,EAAKmL,IAAM,MAAKJ,EAAQI,GAAG9I,EAAK8I,MAChD,IAA9BH,OAAOC,KAAKF,GAAShM,OAAiC,YAApBmC,GAAY,GACjD,MAAM2D,QAAYzB,EAAAA,EAAIc,MAAM,WAAY6G,GAElCK,EAAc,IAAKpL,KAAS6E,EAAI1B,KAAM7D,QAAS+C,EAAK/C,QAASuE,SAAUxB,EAAKwB,UAC5EP,EAAMuB,EAAI1B,KAAKK,KAAOqB,EAAI1B,KAAKI,GACjCD,IACFjC,aAAa2C,QAAQ,WAAWV,IAAOjB,EAAK/C,SAC5C+B,aAAa2C,QAAQ,YAAYV,IAAOjB,EAAKwB,WAE/C5D,EAAQmL,GACRlK,GAAY,EACd,CAAC,MAAMqD,GAAKC,QAAQC,MAAMF,EAAK,GAAGkD,SAAA,EAChCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAASG,SAAA,EACtBJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUG,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAC,cAC9BC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,eAAeS,MAAO1F,EAAKE,SAAU0F,SAAUxC,GAAGnD,EAAQ,IAAID,EAAME,SAASkD,EAAE0C,OAAOJ,QAASsD,UAAQ,QAE1HhE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUG,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAC,WAC9BC,EAAAA,EAAAA,KAAA,SAAOG,KAAK,QAAQP,UAAU,eAAeS,MAAO1F,EAAKK,MAAOuF,SAAUxC,GAAGnD,EAAQ,IAAID,EAAMK,MAAM+C,EAAE0C,OAAOJ,QAASsD,UAAQ,QAEjIhE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUG,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAC,gBAC9BC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,eAAeS,MAAO1F,EAAKG,UAAWyF,SAAUxC,GAAGnD,EAAQ,IAAID,EAAMG,UAAUiD,EAAE0C,OAAOJ,QAASsD,UAAQ,QAE5HhE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUG,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAC,eAC9BC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,eAAeS,MAAO1F,EAAKI,SAAUwF,SAAUxC,GAAGnD,EAAQ,IAAID,EAAMI,SAASgD,EAAE0C,OAAOJ,QAASsD,UAAQ,QAE1HhE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUG,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAC,WAC9BC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,eAAeO,KAAK,MAAMyD,QAAQ,oBAAmBvD,MAAO1F,EAAKM,MAAOsF,SAAUxC,IACjG,MAAM8F,EAAI9F,EAAE0C,OAAOJ,MAChB,cAAcG,KAAKqD,IAAMjJ,EAAQ,IAAID,EAAMM,MAAM4I,WAGxDlE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUG,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAC,aAC9BJ,EAAAA,EAAAA,MAAA,UAAQC,UAAU,cAAcS,MAAO1F,EAAK/C,QAAS2I,SAAUxC,IACzD,MAAM+F,EAAI/F,EAAE0C,OAAOJ,MACb0D,GAAMpM,EAAAA,EAAAA,GAAqBmM,GACjClJ,EAAQ+B,IAAM,IAAMA,EAAM/E,QAASkM,EAAG3H,SAAU4H,GAAOpH,EAAKR,aAC3DwH,UAAQ,EAAA5D,SAAA,EACbC,EAAAA,EAAAA,KAAA,UAAQK,MAAM,GAAGK,UAAQ,EAAAX,SAAC,oBACvBlI,EAAAA,EAAUmM,SAASrJ,EAAK/C,UAAY+C,EAAK/C,UAAYoI,EAAAA,EAAAA,KAAA,UAAQK,MAAO1F,EAAK/C,QAAQmI,SAAEpF,EAAK/C,UAC1FC,EAAAA,EAAUmH,IAAIiF,IAAIjE,EAAAA,EAAAA,KAAA,UAAgBK,MAAO4D,EAAElE,SAAEkE,GAAdA,WAGpCtE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUG,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAC,cAC9BJ,EAAAA,EAAAA,MAAA,UAAQC,UAAU,cAAcS,MAAO1F,EAAKwB,SAAUoE,SAAUxC,GAAGnD,EAAQ,IAAID,EAAMwB,SAAS4B,EAAE0C,OAAOJ,QAASsD,UAAQ,EAAA5D,SAAA,EACtHC,EAAAA,EAAAA,KAAA,UAAQK,MAAM,GAAGK,UAAQ,EAAAX,SAAC,qBACvBjI,EAAAA,EAAWkM,SAASrJ,EAAKwB,WAAaxB,EAAKwB,WAAa6D,EAAAA,EAAAA,KAAA,UAAQK,MAAO1F,EAAKwB,SAAS4D,SAAEpF,EAAKwB,WAC9FrE,EAAAA,EAAWkH,IAAIiF,IAAIjE,EAAAA,EAAAA,KAAA,UAAgBK,MAAO4D,EAAElE,SAAE,IAAGnJ,EAAAA,EAAAA,GAAkBqN,MAAMA,KAAzCA,cAIvCjE,EAAAA,EAAAA,KAAA,UAAQG,KAAK,SAASP,UAAU,uBAAsBG,SAAC,YAK9C,WAAZzH,EAAKN,OACJ2H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMG,SAAA,EACnBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,sBACHzH,EAAKiC,QACJyF,EAAAA,EAAAA,KAAA,KAAAD,SACG,MAAS,MAAMmE,EAAY5L,EAAKiC,OAAO4J,WAAW,QAAU7L,EAAKiC,OAASmB,EAAAA,EAAI0I,SAASC,QAAQ9E,QAAQ,SAAU,IAAMjH,EAAKiC,OAAQ,OAAQyF,EAAAA,EAAAA,KAAA,KAAGsE,KAAMJ,EAAWzD,OAAO,SAAS8D,IAAI,sBAAsB3E,UAAU,OAAMG,SAAC,6BAA0B,EAArP,MAGHC,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,aAAYG,SAAC,+BAE5BC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,0BAA0Bc,SAAUrG,EAAiB+F,QAASA,KAAA,IAAAoE,EAAA,OAA4B,QAA5BA,EAAMpJ,EAAe4G,eAAO,IAAAwC,OAAA,EAAtBA,EAAwBvC,SAAQlC,SACnHzH,EAAKiC,OAAS,uBAAmB,wBAEnCF,IAAmB2F,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,2CACpCI,EAAAA,EAAAA,KAAA,SACEG,KAAK,OACLiC,OAAO,kBACPS,IAAKzH,EACLyE,MAAO,CAAEiC,QAAS,QAClBvB,SAAU/E,UACR,MAAM6G,EAAOtE,EAAE0C,OAAO6B,MAAM,GAC5B,IAAKD,EAAM,OACX,MAAMK,EAAK,IAAIC,SACfD,EAAGE,OAAO,SAAUP,GACpB,IACE/H,GAAmB,GACnB,MAAM6C,QAAYzB,EAAAA,EAAIiF,KAAK,mBAAoB+B,EAAI,CACjD+B,QAAS,CAAE,eAAgB,yBAE7BlM,EAASoE,IAAI,IAAWA,EAAMpC,OAAQ4C,EAAI1B,KAAKlB,UAC/CuE,EAAAA,GAAM4F,QAAQ,wBAChB,CAAE,MAAO7H,GAAM,IAAD8H,EAAAC,EACZ9F,EAAAA,GAAM/B,OAAkB,QAAZ4H,EAAA9H,EAAIoB,gBAAQ,IAAA0G,GAAM,QAANC,EAAZD,EAAclJ,YAAI,IAAAmJ,OAAN,EAAZA,EAAoB5D,MAAO,mBACzC,CAAC,QACC1G,GAAmB,GACnByD,EAAE0C,OAAOJ,MAAQ,EACnB,SAORV,EAAAA,EAAAA,MAAA,MAAIC,UAAU,wBAAuBG,SAAA,EACrB,WAAZzH,EAAKN,MAA+B,aAAZM,EAAKN,QAC9BgI,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,WAAUG,UACtBC,EAAAA,EAAAA,KAAA,UACEJ,UAAW,aAAwB,SAAZnH,EAAmB,SAAS,IACnD2H,QAASA,IAAM1H,EAAa,QAAQqH,SACxB,aAAZzH,EAAKN,KAAoByC,EAAE,WAAaA,EAAE,oBAE/CuF,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,WAAUG,UACtBC,EAAAA,EAAAA,KAAA,UACEJ,UAAW,aAAwB,cAAZnH,EAAwB,SAAS,IACxD2H,QAASA,IAAM1H,EAAa,aAAaqH,SAC1C,kBAEHC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,WAAUG,UACtBC,EAAAA,EAAAA,KAAA,UACEJ,UAAW,aAAwB,kBAAZnH,EAA4B,SAAS,IAC5D2H,QAASA,IAAM1H,EAAa,iBAAiBqH,SAC7CtF,EAAE,yBAENuF,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,WAAUG,UACtBC,EAAAA,EAAAA,KAAA,UACEJ,UAAW,aAAwB,aAAZnH,EAAuB,SAAS,IACvD2H,QAASA,IAAM1H,EAAa,YAAYqH,SACxCtF,EAAE,sBAKK,SAAZhC,IAAmC,WAAZH,EAAKN,MAA+B,aAAZM,EAAKN,QACnD2H,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CACGpH,EAAKqG,IAAIK,IACRM,EAAAA,EAAAA,MAAA,OAAmBC,UAAU,oFAAmFG,SAAA,EAC9GJ,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CACG,CAAC8E,IACA,MAAMC,EAASxM,EAAKuD,IAAMvD,EAAKwD,IACzBiJ,EAAoB,QAAjBF,EAAGxF,EAAI9B,kBAAU,IAAAsH,OAAA,EAAdA,EAAgBG,KAAKvH,IAAM,IAADwH,EAEpC,QADmB,QAANA,EAAAxH,EAAEnF,YAAI,IAAA2M,OAAA,EAANA,EAAQnJ,OAAwB,kBAAT2B,EAAEnF,MAAmBmF,EAAEnF,KAAKqF,SAAWF,EAAEnF,KAAKqF,WAAaF,EAAEnF,SAClFwM,IAEXI,GAAO,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAK7G,SAAU,UACnBiH,EAAY,aAAJD,EAAe,UAAgB,aAAJA,EAAe,SAAW,YAC7DE,EAAY,eAAJF,EAAmB,UAAYA,EAC7C,OACEvF,EAAAA,EAAAA,MAAA,MAAAI,SAAA,CAAKV,EAAI8C,MAAM,KAACnC,EAAAA,EAAAA,KAAA,QAAMJ,UAAW,YAAYuF,yBAA6BpF,SAAEqF,MAE/E,EAZA,IAaDzF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMG,SAAA,CAAEV,EAAIgG,SAAS,WAAIhG,EAAIc,SAC1CH,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAE,IAAInB,KAAKS,EAAIiG,WAAWC,0BAE5C,WAAZjN,EAAKN,OAAoB2H,EAAAA,EAAAA,MAAA6F,EAAAA,SAAA,CAAAzF,SAAA,EACxBC,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,6CAA6CQ,QAAS5E,UACpE,UACQE,EAAAA,EAAIiF,KAAK,SAAStB,EAAIvD,eAC5BlD,EAAQ+D,GAAOA,EAAKU,OAAOC,GAAGA,EAAExB,MAAMuD,EAAIvD,KAC5C,CAAC,MAAMe,GAAMC,QAAQC,MAAMF,EAAM,GACnCkD,SAAEtF,EAAE,cACNuF,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,sDAAsDQ,QAAS5E,UAC5E,MAAMiK,EAAUC,OAAO,uBAAwB,GAAa,OAAVD,EAAgB,OACjE,MAAM7H,EAAO8H,OAAO,gBAAiB,IAAI9H,EAAM,OAC/C,MAAM+H,EAAatG,EAAIuG,SAAYvG,EAAIuG,SAAS9J,KAAOuD,EAAIuG,SAAS/J,IAAMwD,EAAIuG,SAAY,KAC1F,GAAID,EACJ,IAAK,MAAMxI,QAAYzB,EAAAA,EAAIiF,KAAK,QAAQ,CAAEgF,aAAYF,UAASI,QAAQjI,EAAMa,MAAOY,EAAIvD,MAAQ9C,EAAY2D,GAAM,IAAIA,EAAMQ,EAAI1B,MAAQ,CAC1I,MAAMoB,GAAMC,QAAQC,MAAMF,EAAM,MAFbgE,MAAM,uCAG3Bd,SAAC,iBAhCGV,EAAIvD,MAoCD,IAAdnD,EAAKtB,SAAc2I,EAAAA,EAAAA,KAAA,KAAAD,SAAG,oBAId,cAAZtH,IACCkH,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CACG9G,EAAU+F,IAAIK,IACbM,EAAAA,EAAAA,MAAA,OAAmBC,UAAU,oFAAmFG,SAAA,EAC9GJ,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKV,EAAI8C,SACTxC,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMG,SAAA,CAAEV,EAAIgG,SAAS,WAAIhG,EAAIc,SAC1CH,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYG,SAAE,IAAInB,KAAKS,EAAIiG,WAAWC,2BAEzDvF,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,6CAA6CQ,QAAS5E,UACtE,UACQE,EAAAA,EAAIoK,OAAO,uBAAuBzG,EAAIvD,OAC5C5C,EAAayD,GAAQA,EAAKU,OAAOC,GAAKA,EAAExB,MAAQuD,EAAIvD,KACtD,CAAE,MAAMe,GAAOC,QAAQC,MAAMF,EAAM,GACnCkD,SAAC,aAXKV,EAAIvD,MAcM,IAArB7C,EAAU5B,SAAgB2I,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qBAIrB,kBAAZtH,IACCkH,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CACGlH,EAAcmG,IAAI+G,IACjB/F,EAAAA,EAAAA,KAAA,OAAiBJ,UAAU,oBAAmBG,SAAEgG,EAAEnI,MAAxCmI,EAAEjK,MAEU,IAAvBjD,EAAcxB,SAAc2I,EAAAA,EAAAA,KAAA,KAAAD,SAAG,yBAIvB,aAAZtH,IACCkH,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CACGhH,EAASiG,IAAIgH,IACZ,MAAMC,EAAcD,EAAEE,OAAW5N,GAAQ0N,EAAEE,OAAOpK,MAAQxD,EAAKuD,GAAM,KAAOmK,EAAEE,OAAOpD,KAAQ,UACvFqD,EAAgBH,EAAEI,SAAa9N,GAAQ0N,EAAEI,SAAStK,MAAQxD,EAAKuD,GAAM,KAAOmK,EAAEI,SAAStD,KAAQ,UACrG,OACEnD,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,eAAcG,SAAA,EAACJ,EAAAA,EAAAA,MAAA,UAAAI,SAAA,CAASkG,EAAY,WAAIE,EAAc,QAAYH,EAAEH,UAArFG,EAAElK,OAGG,IAAlB/C,EAAS1B,SAAc2I,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qBAK/BC,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,UACdI,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,yBAAyBQ,QAASA,IAAMhH,GAAc,GAAM2G,SAAEtF,EAAE,qBACjFtB,IACCwG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBG,SAAA,EAClCC,EAAAA,EAAAA,KAAA,MAAAD,SAAKtF,EAAE,kBACPuF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,mBAAkBG,SAAEtF,EAAE,wBACnCuF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,QAAOG,SAAEtF,EAAE,wBACxBuF,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,oBAAoBS,MAAOhH,EAAekH,SAAUxC,GAAKzE,EAAiByE,EAAE0C,OAAOJ,OAAQgG,YAAY,eACxHrG,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,iBAAiBc,SAA4B,sBAAlBrH,EAAuC+G,QA1lBhE5E,UAC1B,UACQE,EAAAA,EAAIoK,OAAO,YACjBnM,aAAaiD,WAAW,SACxBjD,aAAaiD,WAAW,QACxB,IAAMyB,EAAAA,EAAOiI,YAAc,CAAE,MAAMvI,GAAG,CACtCwI,OAAOlB,SAASf,KAAO,WACzB,CAAE,MAAOzH,GAAM,IAAD2J,EAAAC,EACZ3J,QAAQC,MAAMF,GACdgE,OAAkB,QAAZ2F,EAAA3J,EAAIoB,gBAAQ,IAAAuI,GAAM,QAANC,EAAZD,EAAc/K,YAAI,IAAAgL,OAAN,EAAZA,EAAoBzF,MAAO,SACnC,GAglBuHjB,SAAEtF,EAAE,oBACrHuF,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,yBAAyBQ,QAASA,KAAQhH,GAAc,GAAQE,EAAiB,KAAOyG,SAAEtF,EAAE,sBAnZpGuF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,iBAAgBG,SAAC,uBAHvC,IA2ZX,C","sources":["utils/currency.js","data/countryCurrency.js","data/options.js","utils/roleDisplay.js","pages/Profile.jsx"],"sourcesContent":["// Utility functions for handling currency symbols and conversion\r\n\r\nconst currencySymbols = {\r\n  AUD: 'A$',\r\n  CAD: 'C$',\r\n  LKR: 'Rs.',\r\n  USD: '$',\r\n  INR: '₹',\r\n  EUR: '€',\r\n  GBP: '£',\r\n};\r\n\r\nexport const getCurrencySymbol = (code) => currencySymbols[code] || code;\r\n\r\n/**\r\n * Convert an amount from one currency to another using rates where the base currency is `base`\r\n * @param {number} amount  original amount\r\n * @param {string} from    currency code of the amount\r\n * @param {string} to      desired currency code\r\n * @param {object} rates   rates object where keys are other currency codes and values are their rate compared to base\r\n * @param {string} base    base currency of the `rates` object (default `to`)\r\n * @returns {number}\r\n */\r\nexport const convertAmount = (amount, from, to, rates, base = to) => {\r\n  if (!rates || from === to) return amount;\r\n\r\n  // If rates are based on the target currency (default behaviour in our app)\r\n  if (base === to) {\r\n    const rate = rates[from];\r\n    if (!rate) return amount;\r\n    return amount / rate; // because 1 to = rate[from] from\r\n  }\r\n\r\n  // Otherwise compute via cross-rate if available\r\n  const rateToBase = base === from ? 1 : rates[from];\r\n  const rateTargetToBase = base === to ? 1 : rates[to];\r\n  if (!rateToBase || !rateTargetToBase) return amount;\r\n  const amountInBase = amount / rateToBase;\r\n  return amountInBase * rateTargetToBase;\r\n};\r\n","// Mapping of countries to their primary ISO-4217 currency codes\r\n// Source: ISO / Wikipedia (trimmed to major recognised entities)\r\nexport const countryToCurrency = {\r\n  \"Afghanistan\": \"AFN\",\r\n  \"Albania\": \"ALL\",\r\n  \"Algeria\": \"DZD\",\r\n  \"Andorra\": \"EUR\",\r\n  \"Angola\": \"AOA\",\r\n  \"Antigua and Barbuda\": \"XCD\",\r\n  \"Argentina\": \"ARS\",\r\n  \"Armenia\": \"AMD\",\r\n  \"Australia\": \"AUD\",\r\n  \"Austria\": \"EUR\",\r\n  \"Azerbaijan\": \"AZN\",\r\n  \"Bahamas\": \"BSD\",\r\n  \"Bahrain\": \"BHD\",\r\n  \"Bangladesh\": \"BDT\",\r\n  \"Barbados\": \"BBD\",\r\n  \"Belarus\": \"BYN\",\r\n  \"Belgium\": \"EUR\",\r\n  \"Belize\": \"BZD\",\r\n  \"Benin\": \"XOF\",\r\n  \"Bhutan\": \"BTN\",\r\n  \"Bolivia\": \"BOB\",\r\n  \"Bosnia and Herzegovina\": \"BAM\",\r\n  \"Botswana\": \"BWP\",\r\n  \"Brazil\": \"BRL\",\r\n  \"Brunei\": \"BND\",\r\n  \"Bulgaria\": \"BGN\",\r\n  \"Burkina Faso\": \"XOF\",\r\n  \"Burundi\": \"BIF\",\r\n  \"Cabo Verde\": \"CVE\",\r\n  \"Cambodia\": \"KHR\",\r\n  \"Cameroon\": \"XAF\",\r\n  \"Canada\": \"CAD\",\r\n  \"Central African Republic\": \"XAF\",\r\n  \"Chad\": \"XAF\",\r\n  \"Chile\": \"CLP\",\r\n  \"China\": \"CNY\",\r\n  \"Colombia\": \"COP\",\r\n  \"Comoros\": \"KMF\",\r\n  \"Congo\": \"XAF\",\r\n  \"Costa Rica\": \"CRC\",\r\n  \"Côte d'Ivoire\": \"XOF\",\r\n  \"Croatia\": \"EUR\",\r\n  \"Cuba\": \"CUP\",\r\n  \"Cyprus\": \"EUR\",\r\n  \"Czech Republic\": \"CZK\",\r\n  \"Democratic Republic of the Congo\": \"CDF\",\r\n  \"Denmark\": \"DKK\",\r\n  \"Djibouti\": \"DJF\",\r\n  \"Dominica\": \"XCD\",\r\n  \"Dominican Republic\": \"DOP\",\r\n  \"Ecuador\": \"USD\",\r\n  \"Egypt\": \"EGP\",\r\n  \"El Salvador\": \"USD\",\r\n  \"Equatorial Guinea\": \"XAF\",\r\n  \"Eritrea\": \"ERN\",\r\n  \"Estonia\": \"EUR\",\r\n  \"Eswatini\": \"SZL\",\r\n  \"Ethiopia\": \"ETB\",\r\n  \"Fiji\": \"FJD\",\r\n  \"Finland\": \"EUR\",\r\n  \"France\": \"EUR\",\r\n  \"Gabon\": \"XAF\",\r\n  \"Gambia\": \"GMD\",\r\n  \"Georgia\": \"GEL\",\r\n  \"Germany\": \"EUR\",\r\n  \"Ghana\": \"GHS\",\r\n  \"Greece\": \"EUR\",\r\n  \"Grenada\": \"XCD\",\r\n  \"Guatemala\": \"GTQ\",\r\n  \"Guinea\": \"GNF\",\r\n  \"Guinea-Bissau\": \"XOF\",\r\n  \"Guyana\": \"GYD\",\r\n  \"Haiti\": \"HTG\",\r\n  \"Holy See\": \"EUR\",\r\n  \"Honduras\": \"HNL\",\r\n  \"Hungary\": \"HUF\",\r\n  \"Iceland\": \"ISK\",\r\n  \"India\": \"INR\",\r\n  \"Indonesia\": \"IDR\",\r\n  \"Iran\": \"IRR\",\r\n  \"Iraq\": \"IQD\",\r\n  \"Ireland\": \"EUR\",\r\n  \"Israel\": \"ILS\",\r\n  \"Italy\": \"EUR\",\r\n  \"Jamaica\": \"JMD\",\r\n  \"Japan\": \"JPY\",\r\n  \"Jordan\": \"JOD\",\r\n  \"Kazakhstan\": \"KZT\",\r\n  \"Kenya\": \"KES\",\r\n  \"Kiribati\": \"AUD\",\r\n  \"Kuwait\": \"KWD\",\r\n  \"Kyrgyzstan\": \"KGS\",\r\n  \"Laos\": \"LAK\",\r\n  \"Latvia\": \"EUR\",\r\n  \"Lebanon\": \"LBP\",\r\n  \"Lesotho\": \"LSL\",\r\n  \"Liberia\": \"LRD\",\r\n  \"Libya\": \"LYD\",\r\n  \"Liechtenstein\": \"CHF\",\r\n  \"Lithuania\": \"EUR\",\r\n  \"Luxembourg\": \"EUR\",\r\n  \"Madagascar\": \"MGA\",\r\n  \"Malawi\": \"MWK\",\r\n  \"Malaysia\": \"MYR\",\r\n  \"Maldives\": \"MVR\",\r\n  \"Mali\": \"XOF\",\r\n  \"Malta\": \"EUR\",\r\n  \"Marshall Islands\": \"USD\",\r\n  \"Mauritania\": \"MRU\",\r\n  \"Mauritius\": \"MUR\",\r\n  \"Mexico\": \"MXN\",\r\n  \"Micronesia\": \"USD\",\r\n  \"Moldova\": \"MDL\",\r\n  \"Monaco\": \"EUR\",\r\n  \"Mongolia\": \"MNT\",\r\n  \"Montenegro\": \"EUR\",\r\n  \"Morocco\": \"MAD\",\r\n  \"Mozambique\": \"MZN\",\r\n  \"Myanmar\": \"MMK\",\r\n  \"Namibia\": \"NAD\",\r\n  \"Nauru\": \"AUD\",\r\n  \"Nepal\": \"NPR\",\r\n  \"Netherlands\": \"EUR\",\r\n  \"New Zealand\": \"NZD\",\r\n  \"Nicaragua\": \"NIO\",\r\n  \"Niger\": \"XOF\",\r\n  \"Nigeria\": \"NGN\",\r\n  \"North Korea\": \"KPW\",\r\n  \"North Macedonia\": \"MKD\",\r\n  \"Norway\": \"NOK\",\r\n  \"Oman\": \"OMR\",\r\n  \"Pakistan\": \"PKR\",\r\n  \"Palau\": \"USD\",\r\n  \"Palestine\": \"ILS\",\r\n  \"Panama\": \"PAB\",\r\n  \"Papua New Guinea\": \"PGK\",\r\n  \"Paraguay\": \"PYG\",\r\n  \"Peru\": \"PEN\",\r\n  \"Philippines\": \"PHP\",\r\n  \"Poland\": \"PLN\",\r\n  \"Portugal\": \"EUR\",\r\n  \"Qatar\": \"QAR\",\r\n  \"Romania\": \"RON\",\r\n  \"Russia\": \"RUB\",\r\n  \"Rwanda\": \"RWF\",\r\n  \"Saint Kitts and Nevis\": \"XCD\",\r\n  \"Saint Lucia\": \"XCD\",\r\n  \"Saint Vincent and the Grenadines\": \"XCD\",\r\n  \"Samoa\": \"WST\",\r\n  \"San Marino\": \"EUR\",\r\n  \"Sao Tome and Principe\": \"STN\",\r\n  \"Saudi Arabia\": \"SAR\",\r\n  \"Senegal\": \"XOF\",\r\n  \"Serbia\": \"RSD\",\r\n  \"Seychelles\": \"SCR\",\r\n  \"Sierra Leone\": \"SLL\",\r\n  \"Singapore\": \"SGD\",\r\n  \"Slovakia\": \"EUR\",\r\n  \"Slovenia\": \"EUR\",\r\n  \"Solomon Islands\": \"SBD\",\r\n  \"Somalia\": \"SOS\",\r\n  \"South Africa\": \"ZAR\",\r\n  \"South Korea\": \"KRW\",\r\n  \"South Sudan\": \"SSP\",\r\n  \"Spain\": \"EUR\",\r\n  \"Sri Lanka\": \"LKR\",\r\n  \"Sudan\": \"SDG\",\r\n  \"Suriname\": \"SRD\",\r\n  \"Sweden\": \"SEK\",\r\n  \"Switzerland\": \"CHF\",\r\n  \"Syria\": \"SYP\",\r\n  \"Tajikistan\": \"TJS\",\r\n  \"Tanzania\": \"TZS\",\r\n  \"Thailand\": \"THB\",\r\n  \"Timor-Leste\": \"USD\",\r\n  \"Togo\": \"XOF\",\r\n  \"Tonga\": \"TOP\",\r\n  \"Trinidad and Tobago\": \"TTD\",\r\n  \"Tunisia\": \"TND\",\r\n  \"Turkey\": \"TRY\",\r\n  \"Turkmenistan\": \"TMT\",\r\n  \"Tuvalu\": \"AUD\",\r\n  \"Uganda\": \"UGX\",\r\n  \"Ukraine\": \"UAH\",\r\n  \"United Arab Emirates\": \"AED\",\r\n  \"United Kingdom\": \"GBP\",\r\n  \"United States\": \"USD\",\r\n  \"Uruguay\": \"UYU\",\r\n  \"Uzbekistan\": \"UZS\",\r\n  \"Vanuatu\": \"VUV\",\r\n  \"Venezuela\": \"VES\",\r\n  \"Vietnam\": \"VND\",\r\n  \"Yemen\": \"YER\",\r\n  \"Zambia\": \"ZMW\",\r\n  \"Zimbabwe\": \"ZWL\"\r\n};\r\n\r\nexport const getCurrencyOfCountry = (country) => countryToCurrency[country];\r\n","// Auto-generated list of countries & currencies\r\nexport const countries = [\r\n  \"Afghanistan\",\"Albania\",\"Algeria\",\"Andorra\",\"Angola\",\"Antigua and Barbuda\",\"Argentina\",\"Armenia\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bhutan\",\"Bolivia\",\"Bosnia and Herzegovina\",\"Botswana\",\"Brazil\",\"Brunei\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cabo Verde\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Central African Republic\",\"Chad\",\"Chile\",\"China\",\"Colombia\",\"Comoros\",\"Congo\",\"Costa Rica\",\"Côte d'Ivoire\",\"Croatia\",\"Cuba\",\"Cyprus\",\"Czech Republic\",\"Democratic Republic of the Congo\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt\",\"El Salvador\",\"Equatorial Guinea\",\"Eritrea\",\"Estonia\",\"Eswatini\",\"Ethiopia\",\"Fiji\",\"Finland\",\"France\",\"Gabon\",\"Gambia\",\"Georgia\",\"Germany\",\"Ghana\",\"Greece\",\"Grenada\",\"Guatemala\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Holy See\",\"Honduras\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"Iran\",\"Iraq\",\"Ireland\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"Kuwait\",\"Kyrgyzstan\",\"Laos\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Marshall Islands\",\"Mauritania\",\"Mauritius\",\"Mexico\",\"Micronesia\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"North Korea\",\"North Macedonia\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Palestine\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\",\"Qatar\",\"Romania\",\"Russia\",\"Rwanda\",\"Saint Kitts and Nevis\",\"Saint Lucia\",\"Saint Vincent and the Grenadines\",\"Samoa\",\"San Marino\",\"Sao Tome and Principe\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Singapore\",\"Slovakia\",\"Slovenia\",\"Solomon Islands\",\"Somalia\",\"South Africa\",\"South Korea\",\"South Sudan\",\"Spain\",\"Sri Lanka\",\"Sudan\",\"Suriname\",\"Sweden\",\"Switzerland\",\"Syria\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor-Leste\",\"Togo\",\"Tonga\",\"Trinidad and Tobago\",\"Tunisia\",\"Turkey\",\"Turkmenistan\",\"Tuvalu\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"Uruguay\",\"Uzbekistan\",\"Vanuatu\",\"Venezuela\",\"Vietnam\",\"Yemen\",\"Zambia\",\"Zimbabwe\"\r\n];\r\n\r\nexport const currencies = [\r\n  \"AED\",\"AFN\",\"ALL\",\"AMD\",\"ANG\",\"AOA\",\"ARS\",\"AUD\",\"AWG\",\"AZN\",\"BAM\",\"BBD\",\"BDT\",\"BGN\",\"BHD\",\"BIF\",\"BMD\",\"BND\",\"BOB\",\"BRL\",\"BSD\",\"BTN\",\"BWP\",\"BYN\",\"BZD\",\"CAD\",\"CDF\",\"CHF\",\"CLP\",\"CNY\",\"COP\",\"CRC\",\"CUC\",\"CUP\",\"CVE\",\"CZK\",\"DJF\",\"DKK\",\"DOP\",\"DZD\",\"EGP\",\"ERN\",\"ETB\",\"EUR\",\"FJD\",\"FKP\",\"FOK\",\"GBP\",\"GEL\",\"GGP\",\"GHS\",\"GIP\",\"GMD\",\"GNF\",\"GTQ\",\"GYD\",\"HKD\",\"HNL\",\"HRK\",\"HTG\",\"HUF\",\"IDR\",\"ILS\",\"IMP\",\"INR\",\"IQD\",\"IRR\",\"ISK\",\"JEP\",\"JMD\",\"JOD\",\"JPY\",\"KES\",\"KGS\",\"KHR\",\"KID\",\"KMF\",\"KRW\",\"KWD\",\"KYD\",\"KZT\",\"LAK\",\"LBP\",\"LKR\",\"LRD\",\"LSL\",\"LYD\",\"MAD\",\"MDL\",\"MGA\",\"MKD\",\"MMK\",\"MNT\",\"MOP\",\"MRU\",\"MUR\",\"MVR\",\"MWK\",\"MXN\",\"MYR\",\"MZN\",\"NAD\",\"NGN\",\"NIO\",\"NOK\",\"NPR\",\"NZD\",\"OMR\",\"PAB\",\"PEN\",\"PGK\",\"PHP\",\"PKR\",\"PLN\",\"PYG\",\"QAR\",\"RON\",\"RSD\",\"RUB\",\"RWF\",\"SAR\",\"SBD\",\"SCR\",\"SDG\",\"SEK\",\"SGD\",\"SHP\",\"SLL\",\"SOS\",\"SRD\",\"SSP\",\"STN\",\"SYP\",\"SZL\",\"THB\",\"TJS\",\"TMT\",\"TND\",\"TOP\",\"TRY\",\"TTD\",\"TVD\",\"TWD\",\"TZS\",\"UAH\",\"UGX\",\"USD\",\"UYU\",\"UZS\",\"VES\",\"VND\",\"VUV\",\"WST\",\"XAF\",\"XCD\",\"XOF\",\"XPF\",\"YER\",\"ZAR\",\"ZMW\",\"ZWL\"\r\n];\r\n","// Utility to map internal role codes to user-friendly display names.\r\n// Usage: roleDisplay(user.role)\r\nexport default function roleDisplay(role) {\r\n  if (role === 'worker') return 'Freelancer';\r\n  if (role === 'employer') return 'Client';\r\n  return role?.charAt(0).toUpperCase() + role?.slice(1);\r\n}\r\n","import { useEffect, useState, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport api from '../api';\r\nimport { socket, connectSocket } from '../socket';\r\nimport { toast } from 'react-toastify';\r\nimport '../styles/Profile.css';\r\nimport { countries, currencies } from '../data/options';\r\nimport { getCurrencySymbol } from '../utils/currency';\r\nimport roleDisplay from '../utils/roleDisplay';\r\nimport { getCurrencyOfCountry } from '../data/countryCurrency';\r\nimport _ from 'lodash';\r\n\r\nfunction Profile() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('jobs'); // will adjust later based on role\r\n  const [jobs, setJobs] = useState([]);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [messages, setMessages] = useState([]);\r\n  const [bookmarks, setBookmarks] = useState([]);\r\n  const [showDelete, setShowDelete] = useState(false);\r\n  const [deleteConfirm, setDeleteConfirm] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [verifyModal, setVerifyModal] = useState(() => localStorage.getItem('pendingPhoneVerify')==='true');\r\n  const [otp, setOtp] = useState('');\r\n  const [emailVerifyModal, setEmailVerifyModal] = useState(() => localStorage.getItem('pendingEmailVerify')==='true');\r\n  const [emailOtp, setEmailOtp] = useState('');\r\n  const [sendingCode, setSendingCode] = useState(false);\r\n  const [uploadingResume, setUploadingResume] = useState(false);\r\n  const [resume, setResume] = useState(null);\r\n  const { t } = useTranslation();\r\n  const [form, setForm] = useState({ username:'', firstName:'', lastName:'', email:'', phone:'' });\r\n  const fileInputRef = useRef(null);\r\n  const resumeInputRef = useRef(null);\r\n  const [showAvatarPicker, setShowAvatarPicker] = useState(false);\r\n  // dedicated handler to avoid inline re-creations & possible loops\r\n  const handleDeleteAccount = async () => {\r\n    try {\r\n      await api.delete('/auth/me');\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('role');\r\n      try { socket.disconnect(); } catch(e){}\r\n      window.location.href = '/register';\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(err.response?.data?.msg || 'Failed');\r\n    }\r\n  };\r\n\r\n  // fetch user and related data\r\n  useEffect(() => {\r\n    const fetchAll = async () => {\r\n      try {\r\n        const { data } = await api.get('/auth/me');\r\n        let uid = data.id || data._id;\r\n    // Fallbacks & pending selections\r\n    const pendingCountry = localStorage.getItem('pendingCountry');\r\n    const pendingCurrency = localStorage.getItem('pendingCurrency');\r\n    const storedCountry = data.country || localStorage.getItem(`country_${uid}`) || pendingCountry || '';\r\n    const storedCurrency = data.currency || localStorage.getItem(`currency_${uid}`) || pendingCurrency || '';\r\n    const storedAvatar = data.avatar || localStorage.getItem(`avatar_${uid}`) || '';\r\n    // Apply to user object\r\n    setUser({ ...data, country: storedCountry, currency: storedCurrency, avatar: storedAvatar });\r\n    // Persist per-user values\r\n    if (storedCountry) localStorage.setItem(`country_${uid}`, storedCountry);\r\n    if (storedCurrency) localStorage.setItem(`currency_${uid}`, storedCurrency);\r\n    if (storedAvatar) localStorage.setItem(`avatar_${uid}`, storedAvatar);\r\n    // If backend still missing, update it once\r\n    if ((!data.country && pendingCountry) || (!data.currency && pendingCurrency)) {\r\n      try {\r\n        const patchRes = await api.patch('/auth/me', { country: pendingCountry, currency: pendingCurrency });\r\n        // merge immediately so UI shows selections without reload\r\n        const updatedCountry = patchRes.data.country || pendingCountry;\r\n        const updatedCurrency = patchRes.data.currency || pendingCurrency;\r\n        setUser(prev=>({ ...prev, country: updatedCountry, currency: updatedCurrency }));\r\n        setForm(prev=>({ ...prev, country: updatedCountry, currency: updatedCurrency }));\r\n        // clear pending values only after successful update\r\n        localStorage.removeItem('pendingCountry');\r\n        localStorage.removeItem('pendingCurrency');\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n        if (data.role !== 'worker' && data.role !== 'employer') {\r\n          setActiveTab('notifications');\r\n        }\r\n        localStorage.setItem('uid', data.id || data._id);\r\n        const newUser = { ...data, country: storedCountry, currency: storedCurrency, avatar: storedAvatar };\r\n        if (!_.isEqual(user, newUser)) {\r\n          setUser(newUser);\r\n        }\r\n        const newForm = {\r\n          username: data.username || '',\r\n          firstName: data.firstName || '',\r\n          lastName: data.lastName || '',\r\n          email: data.email || '',\r\n          phone: data.phone || '',\r\n          country: storedCountry,\r\n          currency: storedCurrency,\r\n        };\r\n        if (!_.isEqual(form, newForm)) {\r\n          setForm(newForm);\r\n        }\r\n        // Jobs or posts depending on role\r\n        if (data.role === 'employer') {\r\n          const res = await api.get('/jobs/me');\r\n          setJobs(res.data);\r\n        } else {\r\n          const res = await api.get('/jobs');\r\n          // show only jobs the worker has applied to\r\n          const applied = res.data.filter(j => j.applicants && j.applicants.some(a => {\r\n             const uid = (a.user?._id || (typeof a.user==='object' && a.user.toString ? a.user.toString() : a.user));\r\n             return uid === (data.id || data._id);\r\n           }));\r\n          setJobs(applied);\r\n        }\r\n        // TODO replace with real endpoints once implemented\r\n        setNotifications([ { _id:1, text:'Welcome to Gig Worker Finder!' } ]);\r\n        const msgRes = await api.get('/chat');\r\n        setMessages(msgRes.data);\r\n        // Fetch bookmarks\r\n        try {\r\n          const bm = await api.get('/users/me/bookmarks');\r\n          setBookmarks(bm.data || []);\r\n        } catch(e) { console.error(e); }\r\n      } catch (err) {\r\n        if (err.response?.status === 401) {\r\n          // token invalid or expired\r\n          localStorage.removeItem('token');\r\n          navigate('/login');\r\n        }\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchAll();\r\n\r\n    // establish socket connection and listen for application status updates\r\n    connectSocket();\r\n    socket.off('applicationStatus'); // ensure no duplicate listeners\r\n    socket.off('jobApplied');\r\n    socket.on('applicationStatus', ({ jobId, jobTitle, status, message }) => {\r\n      const uid = localStorage.getItem('uid');\r\n      // show toast & push to notifications list\r\n      setNotifications(prev => [...prev, { _id: Date.now().toString(), text: `Your application for \"${jobTitle}\" is now ${status}` }]);\r\n      toast.info(`Application \"${jobTitle}\" ${status}`);\r\n      // update jobs state\r\n      setJobs(prev => prev.map(j => {\r\n        if (j._id === jobId) {\r\n          const updatedApplicants = j.applicants.map(a => {\r\n            const aid = (a.user?._id || (typeof a.user==='object' && a.user.toString ? a.user.toString() : a.user));\r\n            return aid === uid ? { ...a, status, responseMessage: message } : a;\r\n          });\r\n          return { ...j, applicants: updatedApplicants };\r\n        }\r\n        return j;\r\n      }));\r\n    });\r\n\r\n    // when worker applies to job from another tab, add it to list\r\n    socket.on('jobApplied', ({ job }) => {\r\n      const uid = localStorage.getItem('uid');\r\n      // ensure the applicants contain current user\r\n      const match = job.applicants && job.applicants.some(a => {\r\n        const aid = (a.user?._id || (typeof a.user==='object' && a.user.toString ? a.user.toString() : a.user));\r\n        return aid === uid;\r\n      });\r\n      if (!match) return;\r\n      setJobs(prev => {\r\n        if (prev.some(j => j._id === job._id)) return prev;\r\n        return [...prev, job];\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  // refetch messages when messages tab selected\r\n  useEffect(() => {\r\n    if (activeTab==='messages') {\r\n      (async () => {\r\n        try {\r\n          const res = await api.get('/chat');\r\n          setMessages(res.data);\r\n        } catch(err) { console.error(err); }\r\n      })();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Redirect to login if no auth token, without triggering setState during render\r\n  useEffect(() => {\r\n    if (!localStorage.getItem('token')) {\r\n      navigate('/login', { replace: true });\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleAvatarClick = () => setShowAvatarPicker(true);\r\n\r\n  const handleAvatarChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    // Preview immediately\r\n    const previewUrl = URL.createObjectURL(file);\r\n    setUser(prev => ({ ...prev, avatar: previewUrl }));\r\n    const uid = localStorage.getItem('uid');\r\n    if(uid) localStorage.setItem(`avatar_${uid}`, previewUrl);\r\n    // Upload to backend (endpoint to implement server-side)\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append('avatar', file);\r\n      const res = await api.post('/auth/avatar', fd);\r\n      setUser(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleResumeChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    setResume(file);\r\n  };\r\n\r\n  // predefined template avatars\r\n  const templateAvatars = Array.from({ length: 70 }, (_, i) => `https://i.pravatar.cc/140?img=${i + 1}`);\r\n  const selectTemplate = async (url) => {\r\n    const uid = localStorage.getItem('uid');\r\n    if(uid) localStorage.setItem(`avatar_${uid}`, url);\r\n    setUser(prev => ({ ...prev, avatar: url }));\r\n    setShowAvatarPicker(false);\r\n    try {\r\n      await api.post('/auth/avatar', { url });\r\n    } catch (err) { console.error(err); }\r\n  };\r\n\r\n  if (!localStorage.getItem('token')) {\r\n    return null; // redirect handled via effect to avoid setState in render\r\n  }\r\n\r\n  if (!user) return <p className=\"container mt-4\">Loading profile...</p>;\r\n\r\n  return (\r\n    <div className=\"container mt-4\" style={{ maxWidth: '900px' }}>\r\n      {/* Verify Phone Modal */}\r\n      {verifyModal && (\r\n        <div className=\"modal d-block\" tabIndex=\"-1\" style={{background:'rgba(0,0,0,0.5)'}}>\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\">Verify Phone</h5>\r\n              <button type=\"button\" className=\"btn-close\" onClick={()=>{setVerifyModal(false); localStorage.removeItem('pendingPhoneVerify'); setOtp('');}}></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>Enter the 6-digit code sent to {user.phone}</p>\r\n              <input className=\"form-control\" value={otp} maxLength={6} onChange={e=>{ if(/^[0-9]*$/.test(e.target.value)) setOtp(e.target.value); }} />\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={()=>{setVerifyModal(false); localStorage.removeItem('pendingPhoneVerify'); setOtp('');}}>Cancel</button>\r\n              <button className=\"btn btn-primary\" disabled={otp.length!==6} onClick={async()=>{\r\n                try {\r\n                  await api.post('/auth/verify-phone',{ phone: user.phone, code: otp });\r\n                  setUser(prev => ({ ...prev, phoneVerified: true }));\r\n                  setVerifyModal(false);\r\n                  localStorage.setItem('pendingPhoneVerify', 'false');\r\n                  alert('Phone verified successfully!');\r\n                }catch(err){ alert(err.response?.data?.msg || 'Invalid code'); }\r\n              }}>Verify</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )}\r\n\r\n      {/* Verify Email Modal */}\r\n      {emailVerifyModal && (\r\n        <div className=\"modal d-block\" tabIndex=\"-1\" style={{background:'rgba(0,0,0,0.5)'}}>\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Verify Email</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={()=>{setEmailVerifyModal(false); localStorage.removeItem('pendingEmailVerify'); setEmailOtp('');}}></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <p>Enter the 6-digit code sent to {user.email}</p>\r\n                <input className=\"form-control\" value={emailOtp} maxLength={6} onChange={e=>{ if(/^[0-9]*$/.test(e.target.value)) setEmailOtp(e.target.value); }} />\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button className=\"btn btn-secondary\" onClick={()=>{setEmailVerifyModal(false); localStorage.removeItem('pendingEmailVerify'); setEmailOtp('');}}>Cancel</button>\r\n                <button className=\"btn btn-primary\" disabled={emailOtp.length!==6} onClick={async()=>{\r\n                  try {\r\n                    await api.post('/auth/verify-email',{ email: user.email, code: emailOtp });\r\n                    setUser(prev => ({ ...prev, emailVerified: true }));\r\n                    setEmailVerifyModal(false);\r\n                    localStorage.setItem('pendingEmailVerify','false');\r\n                    alert('Email verified successfully!');\r\n                  }catch(err){ alert(err.response?.data?.msg || 'Invalid code'); }\r\n                }}>Verify</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Avatar Picker Modal */}\r\n      {showAvatarPicker && (\r\n        <div className=\"modal d-block\" tabIndex=\"-1\" style={{background:'rgba(0,0,0,0.5)'}}>\r\n          <div className=\"modal-dialog modal-dialog-scrollable\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Choose Avatar</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={()=>setShowAvatarPicker(false)}></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <div className=\"d-flex flex-wrap gap-2\">\r\n                  {templateAvatars.map(url=> (\r\n                    <img key={url} src={url} alt=\"tpl\" className=\"rounded-circle\" style={{width:80,height:80,cursor:'pointer',objectFit:'cover'}} onClick={()=>selectTemplate(url)} onError={e=>{e.currentTarget.style.display='none';}} />\r\n                  ))}\r\n                </div>\r\n                <hr />\r\n                <div className=\"d-flex flex-column gap-2\">\r\n                  <button className=\"btn btn-outline-primary\" onClick={()=>{ setShowAvatarPicker(false); fileInputRef.current?.click(); }}>Upload Custom Image</button>\r\n                  <button className=\"btn btn-secondary\" onClick={()=>setShowAvatarPicker(false)}>Cancel</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <div className=\"profile-header\" data-aos=\"fade-up\">\r\n        <img\r\n          src={user.avatar || `https://i.pravatar.cc/140?u=${user.email}`}\r\n          alt=\"avatar\"\r\n          className=\"profile-avatar\"\r\n          onClick={handleAvatarClick}\r\n          title=\"Click to change avatar\"\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={handleAvatarChange}\r\n          ref={fileInputRef}\r\n          style={{ display: 'none' }}\r\n        />\r\n        <div>\r\n          <h3>{user.username || user.name}</h3>\r\n          <p className=\"text-muted mb-1\">\r\n            {user.email}{' '}\r\n            {user.emailVerified ? (\r\n              <span className=\"badge bg-success\">Verified</span>\r\n            ) : (\r\n              <span className=\"badge bg-warning text-dark\">Unverified</span>\r\n            )}\r\n            {!user.emailVerified && (\r\n              <button\r\n                className=\"btn btn-sm btn-outline-primary ms-2\"\r\n                onClick={async () => {\r\n                  try {\r\n                    await api.post('/auth/email-code', { email: user.email });\r\n                    localStorage.setItem('pendingEmailVerify','true');\r\n                    setEmailOtp('');\r\n                    setEmailVerifyModal(true);\r\n                  } catch (err) {\r\n                    alert(err.response?.data?.msg || 'Verification failed');\r\n                  }\r\n                }}\r\n              >Verify</button>\r\n            )}\r\n          </p>\r\n          <p className=\"mb-1\">Phone: {user.phone}{' '}\r\n            {user.phoneVerified ? (\r\n              <span className=\"badge bg-success\">Verified</span>\r\n            ) : (\r\n              <span className=\"badge bg-warning text-dark\">Unverified</span>\r\n            )}\r\n            {!user.phoneVerified && (\r\n              <button className=\"btn btn-sm btn-outline-primary ms-2\" disabled={sendingCode} onClick={async()=>{\r\n                try {\r\n                  setSendingCode(true);\r\n                  await api.post('/auth/phone-code',{ phone: user.phone });\r\n                  localStorage.setItem('pendingPhoneVerify','true');\r\n                   setVerifyModal(true);\r\n                } catch(err){ alert(err.response?.data?.msg || 'Failed to send code'); }\r\n                finally{ setSendingCode(false); }\r\n              }}>Verify phone</button>) }\r\n          </p>\r\n          <span className=\"badge bg-primary text-uppercase\">{roleDisplay(user.role)}</span>\r\n          <span className=\"badge bg-secondary ms-2\">{user.country || form.country}</span>\r\n          <span className=\"badge bg-secondary ms-2\">{user.currency || form.currency}</span>\r\n          <button className=\"btn btn-sm btn-outline-secondary ms-2\" onClick={()=>{\r\n            if(!editMode){\r\n              setForm({\r\n                username:user.username||'',\r\n                firstName:user.firstName||'',\r\n                lastName:user.lastName||'',\r\n                email:user.email||'',\r\n                phone:user.phone||'',\r\n                country:user.country||localStorage.getItem(`country_${user._id||user.id}`)||'',\r\n                currency:user.currency||localStorage.getItem(`currency_${user._id||user.id}`)||getCurrencyOfCountry(user.country)||''\r\n              });\r\n            }\r\n            setEditMode(prev=>!prev);\r\n          }}>{editMode?'Cancel':'Edit'}</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Editable profile form */}\r\n      {editMode && (\r\n        <form className=\"mt-3\" onSubmit={async e=>{e.preventDefault();try{\r\n          const payload = {};\r\n          Object.keys(form).forEach(k => { if(form[k] !== (user[k] || '')) payload[k]=form[k]; });\r\n          if(Object.keys(payload).length===0){ setEditMode(false); return; }\r\n          const res = await api.patch('/auth/me', payload);\r\n          // Fallback: ensure country/currency updated in client even if backend doesn't return them\r\n          const updatedUser = { ...user, ...res.data, country: form.country, currency: form.currency };\r\n          const uid = res.data._id || res.data.id;\r\n          if (uid) {\r\n            localStorage.setItem(`country_${uid}`, form.country);\r\n            localStorage.setItem(`currency_${uid}`, form.currency);\r\n          }\r\n          setUser(updatedUser);\r\n          setEditMode(false);\r\n        }catch(err){console.error(err);}}}>\r\n          <div className=\"row g-3\">\r\n            <div className=\"col-md-6\">\r\n              <label className=\"form-label\">Username</label>\r\n              <input className=\"form-control\" value={form.username} onChange={e=>setForm({...form, username:e.target.value})} required />\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <label className=\"form-label\">Email</label>\r\n              <input type=\"email\" className=\"form-control\" value={form.email} onChange={e=>setForm({...form, email:e.target.value})} required />\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <label className=\"form-label\">First name</label>\r\n              <input className=\"form-control\" value={form.firstName} onChange={e=>setForm({...form, firstName:e.target.value})} required />\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <label className=\"form-label\">Last name</label>\r\n              <input className=\"form-control\" value={form.lastName} onChange={e=>setForm({...form, lastName:e.target.value})} required />\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <label className=\"form-label\">Phone</label>\r\n              <input className=\"form-control\" type=\"tel\" pattern=\"^\\+?[0-9]{7,15}$\" value={form.phone} onChange={e=>{\r\n                const val=e.target.value;\r\n                if(/^\\+?[0-9]*$/.test(val)) setForm({...form, phone:val});\r\n              }} />\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <label className=\"form-label\">Country</label>\r\n              <select className=\"form-select\" value={form.country} onChange={e=>{\r\n                    const v = e.target.value;\r\n                    const cur = getCurrencyOfCountry(v);\r\n                    setForm(prev=>({ ...prev, country: v, currency: cur || prev.currency }));\r\n                  }} required>\r\n                <option value=\"\" disabled>Select Country</option>\r\n                {(!countries.includes(form.country) && form.country) && <option value={form.country}>{form.country}</option>}\r\n                {countries.map(c=> <option key={c} value={c}>{c}</option>)}\r\n              </select>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <label className=\"form-label\">Currency</label>\r\n              <select className=\"form-select\" value={form.currency} onChange={e=>setForm({...form, currency:e.target.value})} required>\r\n                <option value=\"\" disabled>Select Currency</option>\r\n                {(!currencies.includes(form.currency) && form.currency) && <option value={form.currency}>{form.currency}</option>}\r\n                {currencies.map(c=> <option key={c} value={c}>{`${getCurrencySymbol(c)} ${c}`}</option>)}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary mt-3\">Save</button>\r\n        </form>\r\n      )}\r\n\r\n      {/* Resume Upload */}\r\n      {user.role==='worker' && (\r\n        <div className=\"my-3\">\r\n          <h5>Résumé / CV</h5>\r\n          {user.resume ? (\r\n            <p>\r\n              {(() => { const resumeUrl = user.resume.startsWith('http') ? user.resume : api.defaults.baseURL.replace(/\\/api$/, '') + user.resume; return (<a href={resumeUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"me-2\">View current résumé</a>);})()}\r\n            </p>\r\n          ) : (\r\n            <p className=\"text-muted\">No résumé uploaded.</p>\r\n          )}\r\n          <button className=\"btn btn-outline-primary\" disabled={uploadingResume} onClick={() => resumeInputRef.current?.click()}>\r\n            {user.resume ? 'Replace résumé' : 'Upload résumé'}\r\n          </button>\r\n          {uploadingResume && <span className=\"ms-2 spinner-border spinner-border-sm\"></span>}\r\n          <input\r\n            type=\"file\"\r\n            accept=\".pdf,.doc,.docx\"\r\n            ref={resumeInputRef}\r\n            style={{ display: 'none' }}\r\n            onChange={async (e) => {\r\n              const file = e.target.files[0];\r\n              if (!file) return;\r\n              const fd = new FormData();\r\n              fd.append('resume', file);\r\n              try {\r\n                setUploadingResume(true);\r\n                const res = await api.post('/users/me/resume', fd, {\r\n                  headers: { 'Content-Type': 'multipart/form-data' },\r\n                });\r\n                setUser((prev) => ({ ...prev, resume: res.data.resume }));\r\n                toast.success('Résumé uploaded');\r\n              } catch (err) {\r\n                toast.error(err.response?.data?.msg || 'Failed to upload');\r\n              } finally {\r\n                setUploadingResume(false);\r\n                e.target.value = '';\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <ul className=\"nav profile-tabs mb-3\">\r\n        {(user.role==='worker' || user.role==='employer') && (\r\n         <li className=\"nav-item\">\r\n           <button\r\n             className={`nav-link ${activeTab==='jobs'?'active':''}`}\r\n             onClick={() => setActiveTab('jobs')}\r\n           >{user.role==='employer' ? t('myPosts') : t('appliedJobs')}</button>\r\n         </li>)}\r\n        <li className=\"nav-item\">\r\n          <button\r\n            className={`nav-link ${activeTab==='bookmarks'?'active':''}`}\r\n            onClick={() => setActiveTab('bookmarks')}\r\n          >Bookmarked</button>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <button\r\n            className={`nav-link ${activeTab==='notifications'?'active':''}`}\r\n            onClick={() => setActiveTab('notifications')}\r\n          >{t('notificationsTab')}</button>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <button\r\n            className={`nav-link ${activeTab==='messages'?'active':''}`}\r\n            onClick={() => setActiveTab('messages')}\r\n          >{t('messagesTab')}</button>\r\n        </li>\r\n      </ul>\r\n\r\n      {/* Tab content */}\r\n      {activeTab==='jobs' && (user.role==='worker' || user.role==='employer') && (\r\n        <div>\r\n          {jobs.map(job => (\r\n            <div key={job._id} className=\"job-card d-flex justify-content-between align-items-start flex-column flex-md-row\">\r\n              <div>\r\n                {(() => {\r\n                  const myUid = (user.id || user._id);\r\n                  const app = job.applicants?.find(a => {\r\n                    const uid = (a.user?._id || (typeof a.user==='object' && a.user.toString ? a.user.toString() : a.user));\r\n                    return uid === myUid;\r\n                  });\r\n                  const s = app?.status || 'pending';\r\n                  const color = s==='accepted'?'success' : s==='rejected'?'danger' : 'secondary';\r\n                  const label = s==='bookmarked' ? 'pending' : s;\r\n                  return (\r\n                    <h5>{job.title} <span className={`badge bg-${color} ms-2 text-capitalize`}>{label}</span></h5>\r\n                  );\r\n                })()} \r\n                <p className=\"mb-1\">{job.location} • {job.type}</p>\r\n                <small className=\"text-muted\">{new Date(job.createdAt).toLocaleDateString()}</small>\r\n              </div>\r\n              {user.role==='worker' && (<>\r\n                <button className=\"btn btn-sm btn-outline-danger mt-2 mt-md-0\" onClick={async ()=>{\r\n                    try{\r\n                      await api.post(`/jobs/${job._id}/unapply`);\r\n                      setJobs(prev=> prev.filter(j=>j._id!==job._id));\r\n                    }catch(err){ console.error(err); }\r\n                }}>{t('unapply')}</button>\r\n                <button className=\"btn btn-sm btn-outline-primary mt-2 mt-md-0 ms-md-2\" onClick={async ()=>{\r\n                     const subject = prompt('Subject for message'); if(subject===null) return;\r\n                      const text = prompt('Message body'); if(!text) return;\r\n                      const receiverId = job.employer ? (job.employer._id || job.employer.id || job.employer) : null;\r\n                      if(!receiverId){ alert('Cannot determine client to message'); return; }\r\n                      try{ const res = await api.post('/chat',{ receiverId, subject, content:text, jobId: job._id }); setMessages(prev=>[...prev, res.data]); }\r\n                    catch(err){ console.error(err); }\r\n                }}>Message</button></>\r\n              )}\r\n            </div>\r\n          ))}\r\n          {jobs.length===0 && <p>No jobs yet.</p>}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab==='bookmarks' && (\r\n        <div>\r\n          {bookmarks.map(job => (\r\n            <div key={job._id} className=\"job-card d-flex justify-content-between align-items-start flex-column flex-md-row\">\r\n              <div>\r\n                <h5>{job.title}</h5>\r\n                <p className=\"mb-1\">{job.location} • {job.type}</p>\r\n                <small className=\"text-muted\">{new Date(job.createdAt).toLocaleDateString()}</small>\r\n              </div>\r\n              <button className=\"btn btn-sm btn-outline-danger mt-2 mt-md-0\" onClick={async () => {\r\n                try {\r\n                  await api.delete(`/users/me/bookmarks/${job._id}`);\r\n                  setBookmarks(prev => prev.filter(j => j._id !== job._id));\r\n                } catch(err) { console.error(err); }\r\n              }}>Remove</button>\r\n            </div>\r\n          ))}\r\n          {bookmarks.length === 0 && <p>No bookmarks.</p>}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab==='notifications' && (\r\n        <div>\r\n          {notifications.map(n => (\r\n            <div key={n._id} className=\"notification-item\">{n.text}</div>\r\n          ))}\r\n          {notifications.length===0 && <p>No notifications.</p>}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab==='messages' && (\r\n        <div>\r\n          {messages.map(m => {\r\n            const senderLabel = m.sender ? ((user && m.sender._id === user.id) ? 'Me' : m.sender.name) : 'Unknown';\r\n            const receiverLabel = m.receiver ? ((user && m.receiver._id === user.id) ? 'Me' : m.receiver.name) : 'Unknown';\r\n            return (\r\n              <div key={m._id} className=\"message-item\"><strong>{senderLabel} → {receiverLabel}: </strong>{m.content}</div>\r\n            );\r\n          })}\r\n          {messages.length===0 && <p>No messages.</p>}\r\n        </div>\r\n      )}\r\n\r\n      {/* Danger zone */}\r\n      <hr className=\"my-4\" />\r\n      <button className=\"btn btn-outline-danger\" onClick={() => setShowDelete(true)}>{t('deleteMyAccount')}</button>\r\n      {showDelete && (\r\n        <div className=\"card card-body mt-3\">\r\n          <h5>{t('deleteTitle')}</h5>\r\n          <p className=\"small text-muted\">{t('deleteDescription')}</p>\r\n          <p className=\"small\">{t('deleteConfirmInfo')}</p>\r\n          <input className=\"form-control mb-3\" value={deleteConfirm} onChange={e => setDeleteConfirm(e.target.value)} placeholder=\"Type here\" />\r\n          <button className=\"btn btn-danger\" disabled={deleteConfirm !== 'DELETE MY ACCOUNT'} onClick={handleDeleteAccount}>{t('confirmDelete')}</button>\r\n          <button className=\"btn btn-secondary ms-2\" onClick={() => { setShowDelete(false); setDeleteConfirm(''); }}>{t('cancelBtn')}</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"names":["currencySymbols","AUD","CAD","LKR","USD","INR","EUR","GBP","getCurrencySymbol","code","convertAmount","amount","from","to","rates","base","arguments","length","undefined","rate","rateToBase","rateTargetToBase","countryToCurrency","getCurrencyOfCountry","country","countries","currencies","roleDisplay","role","charAt","toUpperCase","slice","navigate","useNavigate","user","setUser","useState","activeTab","setActiveTab","jobs","setJobs","notifications","setNotifications","messages","setMessages","bookmarks","setBookmarks","showDelete","setShowDelete","deleteConfirm","setDeleteConfirm","editMode","setEditMode","verifyModal","setVerifyModal","localStorage","getItem","otp","setOtp","emailVerifyModal","setEmailVerifyModal","emailOtp","setEmailOtp","sendingCode","setSendingCode","uploadingResume","setUploadingResume","resume","setResume","t","useTranslation","form","setForm","username","firstName","lastName","email","phone","fileInputRef","useRef","resumeInputRef","showAvatarPicker","setShowAvatarPicker","useEffect","async","data","api","get","uid","id","_id","pendingCountry","pendingCurrency","storedCountry","storedCurrency","currency","storedAvatar","avatar","setItem","patchRes","patch","updatedCountry","updatedCurrency","prev","removeItem","err","console","error","newUser","_","newForm","res","applied","filter","j","applicants","some","a","_a$user","toString","text","msgRes","bm","e","_err$response2","response","status","fetchAll","connectSocket","socket","off","on","_ref","jobId","jobTitle","message","Date","now","toast","info","map","updatedApplicants","_a$user2","responseMessage","_ref2","job","_a$user3","replace","templateAvatars","Array","i","_jsxs","className","style","maxWidth","children","_jsx","tabIndex","background","type","onClick","value","maxLength","onChange","test","target","disabled","post","phoneVerified","alert","_err$response3","_err$response3$data","msg","emailVerified","_err$response4","_err$response4$data","url","src","alt","width","height","cursor","objectFit","selectTemplate","onError","currentTarget","display","_fileInputRef$current","current","click","handleAvatarClick","title","accept","file","files","previewUrl","URL","createObjectURL","fd","FormData","append","ref","name","_err$response5","_err$response5$data","_err$response6","_err$response6$data","onSubmit","preventDefault","payload","Object","keys","forEach","k","updatedUser","required","pattern","val","v","cur","includes","c","resumeUrl","startsWith","defaults","baseURL","href","rel","_resumeInputRef$curre","headers","success","_err$response7","_err$response7$data","_job$applicants","myUid","app","find","_a$user4","s","color","label","location","createdAt","toLocaleDateString","_Fragment","subject","prompt","receiverId","employer","content","delete","n","m","senderLabel","sender","receiverLabel","receiver","placeholder","disconnect","window","_err$response","_err$response$data"],"sourceRoot":""}