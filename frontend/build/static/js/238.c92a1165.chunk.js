"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[238],{475:(a,e,t)=>{t.d(e,{Q:()=>i,s:()=>r});const n={AUD:"A$",CAD:"C$",LKR:"Rs.",USD:"$",INR:"\u20b9",EUR:"\u20ac",GBP:"\xa3"},i=a=>n[a]||a,r=function(a,e,t,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;if(!n||e===t)return a;if(i===t){const t=n[e];return t?a/t:a}const r=i===e?1:n[e],o=i===t?1:n[t];if(!r||!o)return a;return a/r*o}},538:(a,e,t)=>{t.d(e,{A:()=>i});var n=t(5043);function i(a){const[e,t]=(0,n.useState)(null),[i,r]=(0,n.useState)(null),[o,s]=(0,n.useState)(!0),[l,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(!a)return;const e=`fx_rates_${a}`,n=(new Date).toISOString().slice(0,10),i=localStorage.getItem(e);if(i)try{const a=JSON.parse(i);if(a.date===n&&a.data)return t(a.data),r(new Date(a.ts||a.date)),void s(!1)}catch(o){}(async()=>{var i;s(!0);const o="https://v6.exchangerate-api.com/v6/a7df328aca0f631abeb6b5a0/latest/{BASE},https://api.exchangerate.host/latest?base={BASE}&access_key=9da8ec2aa121e31983007dcde5917e86".split(",").map(a=>a.trim()).filter(Boolean).map(a=>({name:a,buildUrl:e=>a.replace("{BASE}",e),extract:a=>(null===a||void 0===a?void 0:a.rates)||(null===a||void 0===a?void 0:a.conversion_rates)||(null===a||void 0===a?void 0:a.quotes)})),l=o.length>0?o:[{name:"open.er-api.com",buildUrl:a=>`https://open.er-api.com/v6/latest/${a}`,extract:a=>(null===a||void 0===a?void 0:a.rates)||(null===a||void 0===a?void 0:a.conversion_rates)||(null===a||void 0===a?void 0:a.quotes)},{name:"exchangerate.host",buildUrl:a=>`https://api.exchangerate.host/latest?base=${a}`,extract:a=>(null===a||void 0===a?void 0:a.rates)||(null===a||void 0===a?void 0:a.conversion_rates)||(null===a||void 0===a?void 0:a.quotes)}];let d=null;for(const s of l)try{const i=await fetch(s.buildUrl(a));if(!i.ok)throw new Error(`${s.name} HTTP ${i.status}`);const o=await i.json();let l=s.extract(o);const d=o.base||o.base_code||o.source;if(d&&d!==a&&l&&l[a]){const e=l[a],t={};for(const[a,n]of Object.entries(l))t[a]=n/e;l=t}if(l&&"object"===typeof l&&!Array.isArray(l)){const e=Object.keys(l);if(e.length&&e.every(e=>e.startsWith(a))){const t={};for(const n of e)t[n.slice(a.length)]=l[n];l=t}}if(!l)throw new Error(`${s.name} missing rates`);return t(l),r(new Date),localStorage.setItem(e,JSON.stringify({date:n,ts:(new Date).toISOString(),data:l})),void c(null)}catch(u){console.warn(`Provider ${s.name} failed`,u),d=u}c((null===(i=d)||void 0===i?void 0:i.message)||"All FX providers failed")})()},[a]),{rates:e,loading:o,error:l,lastUpdated:i}}},8971:(a,e,t)=>{t.d(e,{X:()=>n,q:()=>i});const n=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","C\xf4te d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],i=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","FOK","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KID","KMF","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TVD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VES","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW","ZWL"]},9238:(a,e,t)=>{t.r(e),t.d(e,{default:()=>h});var n=t(5043),i=t(538),r=t(8971),o=t(475),s=t(3005),l=t(5884),c=t(579);const d={id:"hoverLine",afterDraw(a){if(a.tooltip&&a.tooltip._active&&a.tooltip._active.length){const e=a.ctx,t=a.tooltip._active[0].element.x,n=a.scales.y.top,i=a.scales.y.bottom;e.save(),e.setLineDash([4,4]),e.strokeStyle=a.options.hoverLineColor||"rgba(55,65,81,0.5)",e.lineWidth=a.options.hoverLineWidth||1.5,e.beginPath(),e.moveTo(t,n),e.lineTo(t,i),e.stroke(),e.restore()}}};function u(a){let{from:e,to:t}=a;const{darkMode:i}=(0,s.D)(),r=(0,n.useRef)(null),o=(0,n.useRef)(null),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null),p=(a,n)=>{if(!r.current)return;o.current&&o.current.destroy();const s=r.current.getContext("2d"),c=s.createLinearGradient(0,0,0,s.canvas.height);i?(c.addColorStop(0,"rgba(74,222,128,0.25)"),c.addColorStop(1,"rgba(17,24,39,0)")):(c.addColorStop(0,"rgba(34,197,94,0.25)"),c.addColorStop(1,"rgba(255,255,255,0)")),o.current=new l.Ay(s,{type:"line",data:{labels:a,datasets:[{label:`${e} \u2192 ${t}`,data:n,pointRadius:0,pointHoverRadius:6,pointHoverBorderWidth:2,pointHoverBackgroundColor:"#ffffff",pointHoverBorderColor:"#4ade80",fill:!0,borderColor:i?"#4ade80":"#16a34a",backgroundColor:c,tension:.35}]},options:{hoverLineColor:i?"rgba(255,255,255,0.3)":"rgba(55,65,81,0.5)",hoverLineWidth:i?1:1.5,responsive:!0,interaction:{mode:"index",intersect:!1},elements:{point:{radius:0,hoverRadius:5,hitRadius:12}},scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:8}}},plugins:{legend:{display:!1},tooltip:{yAlign:"top",xAlign:"center",backgroundColor:i?"#111827":"#f3f4f6",titleColor:i?"#d1d5db":"#111827",bodyColor:i?"#ffffff":"#374151",padding:8,displayColors:!1,callbacks:{title:a=>a[0].parsed.y.toFixed(2),label:a=>{const e=a.label;return new Date(e).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short"})}}}}}})};return(0,n.useEffect)(()=>{if(!e||!t||e===t)return;return(async()=>{u(!0),h(null);try{const n="KEGF524HTTVV3JZ4";if(!n)throw new Error("Missing Alpha Vantage API key");const i=`https://www.alphavantage.co/query?function=FX_DAILY&from_symbol=${e}&to_symbol=${t}&outputsize=compact&apikey=${n}`,r=await fetch(i);if(!r.ok)throw new Error(`HTTP ${r.status}`);const o=(await r.json())["Time Series FX (Daily)"];if(!o){const n=(new Date).toISOString().substring(0,10),i=new Date(Date.now()-25056e5).toISOString().substring(0,10),r=`https://api.exchangerate.host/timeseries?start_date=${i}&end_date=${n}&base=${e}&symbols=${t}`,o=await fetch(r),s=await o.json();let l=s&&s.success;const c=(a,e,t)=>a&&a.rates&&Object.values(a.rates)[0]&&void 0!==Object.values(a.rates)[0][t];if(!l||!c(s,e,t)){const r=`https://api.exchangerate.host/timeseries?start_date=${i}&end_date=${n}&base=${t}&symbols=${e}`,o=await fetch(r),s=await o.json();if(s.success&&c(s,t,e)){const a=Object.keys(s.rates).sort(),t=a.map(a=>s.rates[a][e]).map(a=>a?1/a:null);return void p(a,t)}try{const a=`https://api.frankfurter.app/${i}..${n}?from=${e}&to=${t}`,r=await fetch(a),o=await r.json();if(o&&o.rates){const a=Object.keys(o.rates).sort(),e=a.map(a=>o.rates[a][t]);if(e.some(a=>void 0!==a))return void p(a,e)}}catch(a){}return void h("Historical data not available for this currency pair.")}const d=Object.keys(s.rates).sort(),u=d.map(a=>s.rates[a][t]);return void p(d,u)}const s=Object.keys(o).sort().reverse().slice(0,30).reverse(),l=s,c=s.map(a=>parseFloat(o[a]["4. close"]));p(l,c)}catch(n){console.error(n),h(n.message)}finally{u(!1)}})(),()=>{o.current&&o.current.destroy()}},[e,t,i]),(0,c.jsxs)("div",{className:"mt-4",children:[d&&(0,c.jsx)("p",{className:"text-muted small",children:"Loading chart\u2026"}),m&&(0,c.jsx)("p",{className:"text-danger small",children:m}),(0,c.jsx)("canvas",{ref:r,style:{width:"100%",minHeight:200}})]})}l.Ay.register(d);var m=t(4117);function h(){const{t:a}=(0,m.Bd)(),[e,t]=(0,n.useState)(""),[s,l]=(0,n.useState)("USD"),[d,h]=(0,n.useState)("LKR"),{rates:p,lastUpdated:f}=(0,i.A)(s),b=r.q,g=""===e?1:parseFloat(e),S=g.toLocaleString(void 0,{minimumFractionDigits:2}),v=p&&p[d]&&!isNaN(g)?(g*p[d]).toFixed(2):null;return(0,c.jsxs)("div",{className:"container py-5","data-aos":"fade-up",children:[(0,c.jsx)("h1",{className:"mb-4 text-center",children:a("currencyConverter","Currency Converter")}),(0,c.jsx)("div",{className:"row justify-content-center",children:(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"card p-4 shadow-sm glass-card",children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"amount",className:"form-label fw-semibold",children:a("amount","Amount")}),(0,c.jsx)("input",{type:"number",id:"amount",className:"form-control",value:e,onChange:a=>t(a.target.value),min:"0",step:"0.01"})]}),(0,c.jsxs)("div",{className:"d-flex gap-2 mb-3 align-items-end",children:[(0,c.jsxs)("div",{className:"flex-fill",children:[(0,c.jsx)("label",{className:"form-label fw-semibold",children:a("from","From")}),(0,c.jsx)("select",{className:"form-select",value:s,onChange:a=>l(a.target.value),children:b.map(a=>(0,c.jsx)("option",{value:a,children:a},a))})]}),(0,c.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{l(a=>(h(a),d))},"aria-label":a("switch","Switch"),children:"\u21c4"}),(0,c.jsxs)("div",{className:"flex-fill",children:[(0,c.jsx)("label",{className:"form-label fw-semibold",children:a("to","To")}),(0,c.jsx)("select",{className:"form-select",value:d,onChange:a=>h(a.target.value),children:b.map(a=>(0,c.jsx)("option",{value:a,children:a},a))})]})]}),(0,c.jsx)(u,{from:s,to:d}),(0,c.jsx)("div",{className:"mt-4 text-center",children:p?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("h4",{children:[(0,o.Q)(s)," ",S," = ",(0,o.Q)(d)," ",v]}),f&&(0,c.jsxs)("p",{className:"text-muted small mb-0",children:[a("ratesUpdated","Rates updated at"),": ",f.toLocaleString()]})]}):(0,c.jsx)("p",{children:a("loading","Loading exchange rates...")})})]})})})]})}}}]);
//# sourceMappingURL=238.c92a1165.chunk.js.map