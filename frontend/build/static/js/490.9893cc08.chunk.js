"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[490],{475:(a,e,n)=>{n.d(e,{Q:()=>r,s:()=>o});const i={AUD:"A$",CAD:"C$",LKR:"Rs.",USD:"$",INR:"\u20b9",EUR:"\u20ac",GBP:"\xa3"},r=a=>i[a]||a,o=function(a,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;if(!i||e===n)return a;if(r===n){const n=i[e];return n?a/n:a}const o=r===e?1:i[e],t=r===n?1:i[n];if(!o||!t)return a;return a/o*t}},2253:()=>{},5490:(a,e,n)=>{n.r(e),n.d(e,{default:()=>g});var i=n(5043),r=n(3216),o=n(5475),t=n(4117),s=n(9442),l=n(9183),c=(n(2253),n(8971)),d=n(475),m=n(7896),u=(n(3488),n(579));const g=function(){console.log("API_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALPHA_VANTAGE_KEY:"KEGF524HTTVV3JZ4",REACT_APP_FX_PROVIDERS:"https://v6.exchangerate-api.com/v6/a7df328aca0f631abeb6b5a0/latest/{BASE},https://api.exchangerate.host/latest?base={BASE}&access_key=9da8ec2aa121e31983007dcde5917e86",REACT_APP_GOOGLE_CLIENT_ID:"1005694005465-e6up96sprkqb0n87qo8o8rsls7rnqa0t.apps.googleusercontent.com",REACT_APP_SENTRY_DSN:"https://40063d5f0a181865bb31729037a482a1@o4509750747594752.ingest.de.sentry.io/4509750758539344"}.REACT_APP_API_URL);const a=(0,r.Zp)(),{t:e,i18n:n}=(0,t.Bd)(),[g,h]=(0,i.useState)(()=>({firstName:"",lastName:"",username:"",phone:"",email:"",country:"",currency:"",password:"",confirmPassword:"",role:"worker",...JSON.parse(sessionStorage.getItem("draftRegistration")||"{}")})),[S,N]=(0,i.useState)(""),[p,b]=(0,i.useState)(!1),[R,D]=(0,i.useState)(!1);if(localStorage.getItem("token"))return(0,u.jsxs)("div",{className:"register-wrapper","data-aos":"fade-up",children:[(0,u.jsxs)("div",{className:"d-none",style:{top:10,right:10},children:[(0,u.jsx)("button",{className:"btn btn-light dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"\ud83c\udf10"}),(0,u.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"dropdown-item",onClick:()=>n.changeLanguage("en")||localStorage.setItem("lng","en"),children:"English"})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"dropdown-item",onClick:()=>n.changeLanguage("si")||localStorage.setItem("lng","si"),children:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd"})})]})]}),(0,u.jsx)("img",{src:"/logo.png",alt:"Gig Worker Finder",className:"register-logo"}),(0,u.jsx)("div",{className:"alert alert-warning mt-4",children:e("alreadyLoggedIn")}),(0,u.jsx)(o.N_,{className:"btn btn-primary me-2 mt-3",to:"/dashboard",children:e("goToDashboard")}),(0,u.jsx)("button",{className:"btn btn-outline-danger mt-3",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),a("/login")},children:e("logout")})]});const y=a=>{const{name:e,value:n}=a.target;let i={...g,[e]:n};if("country"===e){const a=(0,m.H)(n);a&&(i.currency=a)}h(i)};return(0,u.jsxs)("div",{className:"register-wrapper","data-aos":"fade-up",children:[(0,u.jsxs)("div",{className:"d-none",style:{top:10,right:10},children:[(0,u.jsx)("button",{className:"btn btn-light dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"\ud83c\udf10"}),(0,u.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"dropdown-item",onClick:()=>n.changeLanguage("en")||localStorage.setItem("lng","en"),children:"English"})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"dropdown-item",onClick:()=>n.changeLanguage("si")||localStorage.setItem("lng","si"),children:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd"})})]})]}),(0,u.jsx)("img",{src:"/logo.png",alt:"Gig Worker Finder",className:"register-logo"}),(0,u.jsx)("h2",{className:"h4 fw-bold mb-1",children:e("welcome")}),(0,u.jsx)("p",{className:"text-muted mb-4",style:{fontSize:"0.9rem"},children:e("fillForm")}),(0,u.jsxs)("div",{className:"mb-2 text-start",style:{maxWidth:"400px",margin:"0 auto"},children:[(0,u.jsx)("label",{className:"form-label",children:e("role")||"Role"}),(0,u.jsxs)("select",{className:"form-select",name:"role",value:g.role,onChange:y,children:[(0,u.jsx)("option",{value:"worker",children:e("worker")||"Freelancer"}),(0,u.jsx)("option",{value:"employer",children:e("employer")||"Client"})]})]}),(0,u.jsxs)("button",{className:"btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center mb-3",onClick:()=>{(0,l.v)(async e=>{try{const n=await s.A.post("/auth/google",{idToken:e,role:g.role,country:g.country||void 0,currency:g.currency||void 0}),i=n.data.user;i.emailVerified?(localStorage.setItem("token",n.data.token),localStorage.setItem("role",i.role),g.country&&localStorage.setItem("pendingCountry",g.country),g.currency&&localStorage.setItem("pendingCurrency",g.currency),a("/dashboard")):(sessionStorage.setItem("token",n.data.token),sessionStorage.setItem("role",i.role),a("/verify",{state:{email:i.email,autoEmail:!0}}))}catch(r){var n,i;N((null===(n=r.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.msg)||"Google sign-up failed")}})},children:[(0,u.jsx)("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",style:{height:18,width:18},className:"me-2"}),e("signUpGoogle")]}),(0,u.jsx)("div",{className:"register-divider",children:e("or")}),S&&(0,u.jsx)("div",{className:"alert alert-danger",children:S}),(0,u.jsxs)("form",{onSubmit:async n=>{var i;if(n.preventDefault(),g.email)if(g.password===g.confirmPassword)try{var r;i=g,sessionStorage.setItem("draftRegistration",JSON.stringify(i));const{confirmPassword:e,...n}=g,o={...n};o.email||delete o.email,o.country||delete o.country,o.currency||delete o.currency,o.phone||delete o.phone;const t=await s.A.post("/auth/register",{...o,name:`${g.firstName} ${g.lastName}`.trim()});g.country&&localStorage.setItem("pendingCountry",g.country),g.currency&&localStorage.setItem("pendingCurrency",g.currency),sessionStorage.setItem("token",t.data.token),sessionStorage.setItem("role",null===(r=t.data.user)||void 0===r?void 0:r.role),a("/verify",{state:{email:g.email,phone:g.phone,skipProfile:!0}})}catch(l){var o,t;N((null===(o=l.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.msg)||"Registration failed")}else N(e("passwordMismatch")||"Passwords do not match");else N(e("emailRequired")||"Email is required")},children:[(0,u.jsxs)("div",{className:"row g-2",children:[(0,u.jsxs)("div",{className:"col-md-6 mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("firstName")}),(0,u.jsx)("input",{type:"text",name:"firstName",className:"form-control",value:g.firstName,onChange:y,required:!0})]}),(0,u.jsxs)("div",{className:"col-md-6 mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("lastName")}),(0,u.jsx)("input",{type:"text",name:"lastName",className:"form-control",value:g.lastName,onChange:y,required:!0})]})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("usernameLabel")}),(0,u.jsx)("input",{type:"text",name:"username",className:"form-control",value:g.username,onChange:y,required:!0})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("email")}),(0,u.jsx)("input",{type:"email",name:"email",className:"form-control",value:g.email,onChange:y,required:!0})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("phone")}),(0,u.jsx)("input",{type:"tel",name:"phone",pattern:"^\\+?[0-9]{7,15}$",className:"form-control",value:g.phone,onChange:y})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:"Country"}),(0,u.jsxs)("select",{name:"country",className:"form-select",value:g.country,onChange:y,required:!0,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Select Country"}),c.X.map(a=>(0,u.jsx)("option",{value:a,children:a},a))]})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:"Currency"}),(0,u.jsxs)("select",{name:"currency",className:"form-select",value:g.currency,onChange:y,required:!0,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Select Currency"}),c.q.map(a=>(0,u.jsx)("option",{value:a,children:`${(0,d.Q)(a)} ${a}`},a))]})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("password")}),(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("input",{type:p?"text":"password",name:"password",className:"form-control",value:g.password,onChange:y,required:!0}),(0,u.jsx)("button",{type:"button",className:"btn btn-outline-secondary",tabIndex:"-1",onClick:()=>b(a=>!a),children:p?"\ud83d\ude48":"\ud83d\udc41"})]})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("confirmPassword")||"Confirm Password"}),(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("input",{type:R?"text":"password",name:"confirmPassword",className:"form-control",value:g.confirmPassword,onChange:y,required:!0}),(0,u.jsx)("button",{type:"button",className:"btn btn-outline-secondary",tabIndex:"-1",onClick:()=>D(a=>!a),children:R?"\ud83d\ude48":"\ud83d\udc41"})]})]}),(0,u.jsxs)("div",{className:"mb-3 text-start",children:[(0,u.jsx)("label",{className:"form-label",children:e("role")}),(0,u.jsxs)("select",{name:"role",className:"form-select",value:g.role,onChange:y,children:[(0,u.jsx)("option",{value:"worker",children:e("worker")}),(0,u.jsx)("option",{value:"employer",children:e("employer")})]})]}),(0,u.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:e("createAccount")})]}),(0,u.jsxs)("p",{className:"mt-3",style:{fontSize:"0.9rem"},children:[e("alreadyAccount")," ",(0,u.jsx)(o.N_,{to:"/login",children:e("login")})]})]})}},7896:(a,e,n)=>{n.d(e,{H:()=>r});const i={Afghanistan:"AFN",Albania:"ALL",Algeria:"DZD",Andorra:"EUR",Angola:"AOA","Antigua and Barbuda":"XCD",Argentina:"ARS",Armenia:"AMD",Australia:"AUD",Austria:"EUR",Azerbaijan:"AZN",Bahamas:"BSD",Bahrain:"BHD",Bangladesh:"BDT",Barbados:"BBD",Belarus:"BYN",Belgium:"EUR",Belize:"BZD",Benin:"XOF",Bhutan:"BTN",Bolivia:"BOB","Bosnia and Herzegovina":"BAM",Botswana:"BWP",Brazil:"BRL",Brunei:"BND",Bulgaria:"BGN","Burkina Faso":"XOF",Burundi:"BIF","Cabo Verde":"CVE",Cambodia:"KHR",Cameroon:"XAF",Canada:"CAD","Central African Republic":"XAF",Chad:"XAF",Chile:"CLP",China:"CNY",Colombia:"COP",Comoros:"KMF",Congo:"XAF","Costa Rica":"CRC","C\xf4te d'Ivoire":"XOF",Croatia:"EUR",Cuba:"CUP",Cyprus:"EUR","Czech Republic":"CZK","Democratic Republic of the Congo":"CDF",Denmark:"DKK",Djibouti:"DJF",Dominica:"XCD","Dominican Republic":"DOP",Ecuador:"USD",Egypt:"EGP","El Salvador":"USD","Equatorial Guinea":"XAF",Eritrea:"ERN",Estonia:"EUR",Eswatini:"SZL",Ethiopia:"ETB",Fiji:"FJD",Finland:"EUR",France:"EUR",Gabon:"XAF",Gambia:"GMD",Georgia:"GEL",Germany:"EUR",Ghana:"GHS",Greece:"EUR",Grenada:"XCD",Guatemala:"GTQ",Guinea:"GNF","Guinea-Bissau":"XOF",Guyana:"GYD",Haiti:"HTG","Holy See":"EUR",Honduras:"HNL",Hungary:"HUF",Iceland:"ISK",India:"INR",Indonesia:"IDR",Iran:"IRR",Iraq:"IQD",Ireland:"EUR",Israel:"ILS",Italy:"EUR",Jamaica:"JMD",Japan:"JPY",Jordan:"JOD",Kazakhstan:"KZT",Kenya:"KES",Kiribati:"AUD",Kuwait:"KWD",Kyrgyzstan:"KGS",Laos:"LAK",Latvia:"EUR",Lebanon:"LBP",Lesotho:"LSL",Liberia:"LRD",Libya:"LYD",Liechtenstein:"CHF",Lithuania:"EUR",Luxembourg:"EUR",Madagascar:"MGA",Malawi:"MWK",Malaysia:"MYR",Maldives:"MVR",Mali:"XOF",Malta:"EUR","Marshall Islands":"USD",Mauritania:"MRU",Mauritius:"MUR",Mexico:"MXN",Micronesia:"USD",Moldova:"MDL",Monaco:"EUR",Mongolia:"MNT",Montenegro:"EUR",Morocco:"MAD",Mozambique:"MZN",Myanmar:"MMK",Namibia:"NAD",Nauru:"AUD",Nepal:"NPR",Netherlands:"EUR","New Zealand":"NZD",Nicaragua:"NIO",Niger:"XOF",Nigeria:"NGN","North Korea":"KPW","North Macedonia":"MKD",Norway:"NOK",Oman:"OMR",Pakistan:"PKR",Palau:"USD",Palestine:"ILS",Panama:"PAB","Papua New Guinea":"PGK",Paraguay:"PYG",Peru:"PEN",Philippines:"PHP",Poland:"PLN",Portugal:"EUR",Qatar:"QAR",Romania:"RON",Russia:"RUB",Rwanda:"RWF","Saint Kitts and Nevis":"XCD","Saint Lucia":"XCD","Saint Vincent and the Grenadines":"XCD",Samoa:"WST","San Marino":"EUR","Sao Tome and Principe":"STN","Saudi Arabia":"SAR",Senegal:"XOF",Serbia:"RSD",Seychelles:"SCR","Sierra Leone":"SLL",Singapore:"SGD",Slovakia:"EUR",Slovenia:"EUR","Solomon Islands":"SBD",Somalia:"SOS","South Africa":"ZAR","South Korea":"KRW","South Sudan":"SSP",Spain:"EUR","Sri Lanka":"LKR",Sudan:"SDG",Suriname:"SRD",Sweden:"SEK",Switzerland:"CHF",Syria:"SYP",Tajikistan:"TJS",Tanzania:"TZS",Thailand:"THB","Timor-Leste":"USD",Togo:"XOF",Tonga:"TOP","Trinidad and Tobago":"TTD",Tunisia:"TND",Turkey:"TRY",Turkmenistan:"TMT",Tuvalu:"AUD",Uganda:"UGX",Ukraine:"UAH","United Arab Emirates":"AED","United Kingdom":"GBP","United States":"USD",Uruguay:"UYU",Uzbekistan:"UZS",Vanuatu:"VUV",Venezuela:"VES",Vietnam:"VND",Yemen:"YER",Zambia:"ZMW",Zimbabwe:"ZWL"},r=a=>i[a]},8971:(a,e,n)=>{n.d(e,{X:()=>i,q:()=>r});const i=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","C\xf4te d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],r=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","FOK","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KID","KMF","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TVD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VES","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW","ZWL"]},9183:(a,e,n)=>{n.d(e,{v:()=>i});const i=(a,e)=>{const n="1005694005465-e6up96sprkqb0n87qo8o8rsls7rnqa0t.apps.googleusercontent.com";const i=()=>{try{window.google.accounts.id.initialize({client_id:n,callback:e=>{let{credential:n}=e;return a(n)}}),window.google.accounts.id.prompt()}catch(i){console.error("Failed to initialize Google Accounts",i),e&&e(i)}};if(window.google&&window.google.accounts)return void i();const r=document.getElementById("gsi-script");if(r)return void r.addEventListener("load",i,{once:!0});const o=document.createElement("script");o.src="https://accounts.google.com/gsi/client",o.async=!0,o.defer=!0,o.id="gsi-script",o.onload=i,o.onerror=a=>{console.error("Failed to load Google Identity script",a),e&&e(a)},document.head.appendChild(o)}}}]);
//# sourceMappingURL=490.9893cc08.chunk.js.map