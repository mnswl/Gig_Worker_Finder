"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[851],{2851:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var t=s(5043),n=s(3216),l=s(5475),r=s(9442),m=s(579);const i=function(){const e=(0,n.Zp)(),[a,s]=(0,t.useState)({firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",adminSecret:""}),[i,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[u,x]=(0,t.useState)(!1),h=e=>{s({...a,[e.target.name]:e.target.value})};return(0,m.jsxs)("div",{className:"container mt-5",style:{maxWidth:"500px"},children:[(0,m.jsx)("h2",{className:"h4 mb-3 text-center",children:"Admin Registration"}),i&&(0,m.jsx)("div",{className:"alert alert-danger",children:i}),(0,m.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),a.password===a.confirmPassword)try{const{confirmPassword:s,...t}=a,n=await r.A.post("/auth/register-admin",t);localStorage.setItem("token",n.data.token),localStorage.setItem("role","admin"),localStorage.setItem("userId",n.data.user.id),e("/admin")}catch(l){var t,n;o((null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.msg)||"Registration failed")}else o("Passwords do not match")},children:[(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"form-label",children:"First Name"}),(0,m.jsx)("input",{type:"text",name:"firstName",className:"form-control",value:a.firstName,onChange:h,required:!0})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"form-label",children:"Last Name"}),(0,m.jsx)("input",{type:"text",name:"lastName",className:"form-control",value:a.lastName,onChange:h,required:!0})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"form-label",children:"Username"}),(0,m.jsx)("input",{type:"text",name:"username",className:"form-control",value:a.username,onChange:h,required:!0})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"form-label",children:"Email"}),(0,m.jsx)("input",{type:"email",name:"email",className:"form-control",value:a.email,onChange:h,required:!0})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"form-label",children:"Password"}),(0,m.jsxs)("div",{className:"input-group",children:[(0,m.jsx)("input",{type:c?"text":"password",name:"password",className:"form-control",value:a.password,onChange:h,required:!0}),(0,m.jsx)("button",{type:"button",className:"btn btn-outline-secondary",tabIndex:"-1",onClick:()=>d(e=>!e),children:c?"\ud83d\ude48":"\ud83d\udc41"})]})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,m.jsxs)("div",{className:"input-group",children:[(0,m.jsx)("input",{type:u?"text":"password",name:"confirmPassword",className:"form-control",value:a.confirmPassword,onChange:h,required:!0}),(0,m.jsx)("button",{type:"button",className:"btn btn-outline-secondary",tabIndex:"-1",onClick:()=>x(e=>!e),children:u?"\ud83d\ude48":"\ud83d\udc41"})]})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Admin Secret"}),(0,m.jsx)("input",{type:"password",name:"adminSecret",className:"form-control",value:a.adminSecret,onChange:h,required:!0})]}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Register Admin"})]}),(0,m.jsxs)("p",{className:"mt-3 text-center",children:["Already have an account? ",(0,m.jsx)(l.N_,{to:"/login",children:"Login"})]})]})}}}]);
//# sourceMappingURL=851.4dc381ce.chunk.js.map